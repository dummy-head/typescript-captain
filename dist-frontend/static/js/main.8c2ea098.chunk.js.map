{"version":3,"sources":["actions/DefaultRegistryActions.ts","reducers/DefaultRegistryReducer.ts","reducers/index.ts","utils/CrashReporter.ts","utils/ErrorFactory.ts","utils/Logger.ts","api/HttpClient.ts","api/ApiManager.ts","containers/global/ClickableLink.tsx","containers/global/ApiComponent.tsx","containers/global/CenteredSpinner.tsx","utils/Toaster.ts","containers/Dashboard.tsx","containers/LoggedInCatchAll.tsx","containers/nodes/DockerRegistriesStaticInfo.tsx","utils/Utils.ts","containers/nodes/DefaultDockerRegistry.tsx","models/IRegistryInfo.ts","containers/nodes/DockerRegistryTable.tsx","containers/nodes/DockerRegistryAdd.tsx","containers/nodes/DockerRegistries.tsx","containers/nodes/AddNode.tsx","containers/nodes/Nodes.tsx","containers/nodes/Cluster.tsx","containers/apps/CreateNewApp.tsx","containers/apps/AppsTable.tsx","containers/apps/Apps.tsx","containers/apps/appDetails/HttpSettings.tsx","containers/apps/appDetails/AppConfigs.tsx","containers/apps/appDetails/deploy/BuildLogsView.tsx","containers/apps/appDetails/deploy/TarUploader.tsx","containers/apps/appDetails/deploy/GitRepoForm.tsx","utils/DomUtils.ts","containers/apps/appDetails/deploy/UploaderPlainTextCaptainDefinition.tsx","containers/apps/appDetails/deploy/UploaderPlainTextBase.tsx","containers/apps/appDetails/deploy/UploaderPlainTextDockerfile.tsx","containers/apps/appDetails/deploy/AppVersionTable.tsx","containers/apps/appDetails/deploy/Deployment.tsx","containers/apps/appDetails/AppDetails.tsx","containers/monitoring/LoadBalancerStats.tsx","containers/monitoring/NetDataDescription.tsx","containers/monitoring/NetDataSettingsForm.tsx","containers/monitoring/NetDataInfo.tsx","containers/monitoring/Monitoring.tsx","containers/settings/ChangePass.tsx","containers/settings/ReloadCaptainModal.tsx","containers/settings/CheckUpdate.tsx","containers/settings/NginxConfig.tsx","containers/settings/UnusedImagesTable.tsx","containers/settings/DiskCleanup.tsx","containers/settings/Settings.tsx","api/OneClickAppsApi.ts","containers/apps/oneclick/OneClickAppSelector.tsx","containers/apps/oneclick/OneClickVariablesSection.tsx","containers/apps/oneclick/OneClickAppDeploymentHelper.ts","containers/apps/oneclick/OneClickAppDeployManager.ts","containers/apps/oneclick/OneClickAppDeployProgress.tsx","containers/apps/oneclick/OneClickAppConfigPage.tsx","containers/PageRoot.tsx","containers/Login.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["DEFAULT_REGISTRY_CHANGED","rootReducer","combineReducers","registryReducer","state","arguments","length","undefined","action","type","Object","objectSpread","defaultRegistryId","payload","CrashReporter","err","Error","message","instance","utils_CrashReporter","utils_ErrorFactory","ErrorFactory","classCallCheck","this","OKAY","OKAY_BUILD_STARTED","STATUS_ERROR_GENERIC","STATUS_ERROR_CAPTAIN_NOT_INITIALIZED","STATUS_ERROR_USER_NOT_INITIALIZED","STATUS_ERROR_NOT_AUTHORIZED","STATUS_ERROR_ALREADY_EXIST","STATUS_ERROR_BAD_NAME","STATUS_WRONG_PASSWORD","STATUS_AUTH_TOKEN_INVALID","VERIFICATION_FAILED","UNKNOWN_ERROR","status","e","captainStatus","captainMessage","error","captureException","Logger","s","console","log","process","REACT_APP_IS_DEBUG","HttpClient","baseUrl","authToken","onAuthFailure","GET","POST","isDestroyed","headers","method","endpoint","variables","self","fetchInternal","then","axiosResponse","data","newAxiosResponse","createError","description","Promise","resolve","reject","catch","getReq","postReq","axios","get","params","createHeaders","post","URL","REACT_APP_API_URL","dev","ApiManager","http","getAuthToken","lastKnownPassword","destroy","setAuthToken","password","fetch","token","rootDomain","emailAddress","isEnabled","appName","file","formData","FormData","append","captainDefinition","gitHash","detached","captainDefinitionContent","JSON","stringify","appDefinition","instanceCount","envVars","notExposeAsWebApp","forceSsl","volumes","ports","nodeId","appPushWebhook","customNginxConfig","preDeployFunction","hasPersistentData","customDomain","netDataInfo","oldPassword","newPassword","latestVersion","customBase","customCaptain","baseConfig","customValue","captainConfig","mostRecentLimit","imageIds","dockerRegistry","registryId","nodeType","privateKey","remoteNodeIpAddress","captainIpAddress","REACT_APP_DEFAULT_PASSWORD","ClickableLink","preventDefault","props","onLinkClicked","_this","react_default","a","createElement","onClick","handleClick","children","Component","ApiComponent","possibleConstructorReturn","getPrototypeOf","call","willUnmountSoon","apiManager","CenteredSpinner","antIcon","icon","style","fontSize","spin","width","textAlign","marginTop","marginBottom","indicator","size","Toaster","errorMessage","errorDescription","concat","toast","Search","input","Dashboard","userEmail","isLoading","apiData","reFetchData","getCaptainInfo","setState","createCatcher","isUsingHttp","window","location","href","startsWith","modal","confirm","title","content","onOk","success","onCancel","replace","target","rel","placeholder","onChange","event","value","trim","enableRootSsl","updateRootDomain","CenteredSpinner_CenteredSpinner","createInitialSetup","createSetupPanel","es_row","col","span","offset","card","addonBefore","disabled","hasRootSsl","defaultValue","enterButton","onSearch","justify","tooltip","es_button","onEnableSslClicked","onForceSslClicked","LoggedInCatchAll","isLoggedIn","history","push","DockerRegistriesStaticInfo","collapse","Panel","header","key","Utils","obj","parse","pattern","join","RegExp","Option","es_select","DefaultDockerRegistry","isInEditMode","newSelectedDefaultId","registries","defaultPushRegistryId","index","element","id","registryUser","registryDomain","map","_this2","okText","changeDefault","visible","getAllOptions","className","es_alert","showIcon","ClickableLink_ClickableLink","getDefaultRegText","IRegistryTypes","LOCAL_REG","REMOTE_REG","DockerRegistryTable","modalShowing","remoteRegistryToEdit","registryIdToDelete","warn","registryType","dataIndex","render","registryPassword","reg","editRegistry","deleteRegistry","maxWidth","newData","height","addonAfter","registryImagePrefix","createEditModalContent","table","rowKey","pagination","columns","getCols","dataSource","DockerRegistryAdd","remoteRegistryToAdd","getPlainRegistryInfo","hasSelfHostedRegistry","indexOf","addDockerRegistry","DockerRegistries","getDockerRegistries","emitDefaultRegistryChanged","setDefaultPushDockerRegistry","fetchData","isSelfHosted","disableSelfHostedDockerRegistry","deleteDockerRegistry","updateDockerRegistry","enableSelfHostedDockerRegistry","DockerRegistriesStaticInfo_DockerRegistriesStaticInfo","DefaultDockerRegistry_DefaultDockerRegistry","DockerRegistryTable_DockerRegistryTable","DockerRegistryAdd_DockerRegistryAdd","connect","AddNode","nodeToAdd","childField","changeModel","paddingBottom","TextArea","rows","es_radio","Group","buttonStyle","Button","paddingTop","paddingLeft","onAddNodeClicked","CurrentNodes","getAllNodes","addDockerNode","nodes","node","paddingRight","borderRadius","border","backgroundColor","isLeader","ip","memoryBytes","toFixed","operatingSystem","nanoCpu","architecture","hostname","dockerEngineVersion","AddNode_AddNode","addNode","divider","createNodes","Cluster","nodes_DockerRegistries","Nodes","CreateNewApp","hasPersistency","onCreateNewAppClicked","onCreateOneClickAppClicked","Search_default","es_checkbox","checked","theme","AppsTable","searchTerm","onAppClicked","align","app","hasDefaultSubDomainSsl","appsToRender","apps","filter","extra","createColumns","Apps","registerNewApp","CreateNewApp_CreateNewApp","appDefinitions","AppsTable_AppsTable","defaultNginxConfig","getAllApps","HttpSettings","createHttpSettingsContent","setLoading","enableSslForBaseDomain","newDomain","attachNewCustomDomainToApp","enableSslForCustomDomain","removeCustomDomain","customDomains","forEach","c","row","publicDomain","hasSsl","onEnableCustomDomainSslClicked","marginRight","onRemoveCustomDomainClicked","newApiData","updateApiData","fontFamily","onEditDefaultNginxConfigClicked","_this3","enableDefaultHttps","HttpSettings_Search","onConnectNewDomainClicked","createCustomDomainRows","createCustomNginx","_this4","defaultChecked","createHttpDetailsSettingsContent","AppConfigs","dummyVar","forceEditableInstanceCount","envVarBulkEdit","bulkVals","forceEditableNodeId","src","toString","split","line","idx","keyValueArr","match","len","charAt","val","convertEnvVarsToBulk","keyVals","parseEnvVars","keys","k","addEnvVarClicked","hostPort","p","Number","containerPort","containerPath","hostPath","volumeName","createVolRows","addVolumeClicked","es_switch","createEnvVarSection","createPortRows","addPortMappingClicked","createVolSection","spellCheck","autoCorrect","autoComplete","autoCapitalize","BuildLogsView","isAppBuilding","expandedLogs","buildLogRecreationId","buildLogs","lastLineNumberPrinted","fetchBuildLogsInterval","clearInterval","fetchBuildLogs","logInfo","onAppBuildFinished","lines","logs","firstLineNumberOfLogs","firstLineNumber","firstLinesToPrint","lineAdded","ansiRegex","i","setTimeout","textarea","document","getElementById","scrollTop","scrollHeight","setInterval","onExpandLogClicked","padding","overflow","TarUploader","beforeUpload","handleChange","info","fileList","fileToBeUploaded","name","uploadAppData","originFileObj","onUploadSucceeded","upload","Dragger","accept","multiple","listType","startUploadAndDeploy","GitRepoForm","gutter","gitRepoValues","repo","newObj","updateRepoInfo","branch","user","scrollToFixedFromTop","fromTopPx","el","scrollTo","top","behavior","DomUtils","delay","UploaderPlainTextCaptainDefinition","userEnteredValue","UploaderPlainTextBase","uploadInProcess","captainDefinitionToBeUploaded","uploadCaptainDefinitionContent","getPlaceHolderValue","startDeploy","convertDataToCaptainDefinition","UploaderPlainTextDockerfile","capDefinition","schemaVersion","dockerfileLines","AppVersionTable","version","versionDetails","deployedVersion","twoToneColor","deployedImageName","onRollbackClicked","timeStamp","moment","Date","fromNow","toLocaleString","gitHashOriginal","substr","versionToRevert","imageName","onVersionRollbackRequested","versionsReversed","versions","reverse","pageSize","Deployment","updatedVersions","getTime","appDefs","onUploadSuccess","hasPushToken","pushWebhookToken","repoInfo","BuildLogsView_BuildLogsView","AppVersionTable_AppVersionTable","TarUploader_TarUploader","onFocus","select","execCommand","readOnly","protocol","GitRepoForm_GitRepoForm","newRepo","onUpdateConfigAndSave","UploaderPlainTextDockerfile_UploaderPlainTextDockerfile","UploaderPlainTextCaptainDefinition_UploaderPlainTextCaptainDefinition","TabPane","tabs","WEB_SETTINGS","AppDetails","reRenderTriggered","confirmedAppNameToDelete","activeTabKey","renderCounterForAffixBug","appDef","deleteApp","goBackToApps","warning","updateConfigAndSave","defaultActiveKey","tab","HttpSettings_HttpSettings","AppConfigs_AppConfigs","Deployment_Deployment","affix","offsetBottom","newLocal","mainContainer","current","background","minWidth","onDeleteAppClicked","LoadBalancerStatsCard","margin","avatar","color","titleText","titleNumber","text1","text2","LoadBalancerStats","getLoadBalancerInfo","updateApiInterval","updateApi","LoadBalancerStats_LoadBalancerStatsCard","total","activeConnections","handled","accepted","reading","writing","waiting","NetDataDescription","NetDataSettingsForm","parentField","netDataInfoData","updateModel","smtp","to","server","port","allowNonTls","username","slack","hook","channel","telegram","botToken","chatId","pushBullet","apiToken","fallbackEmail","NetDataInfo","refetchData","getNetDataInfo","isActivated","onUpdateNetDataClicked","updateNetDataInfo","NetDataDescription_NetDataDescription","toggleNetDataClicked","netDataUrl","NetDataSettingsForm_NetDataSettingsForm","Monitoring","LoadBalancerStats_LoadBalancerStats","NetDataInfo_NetDataInfo","ChangePass","old","new1","new2","changePass","onChangePasswordClicked","ReloadCaptainModal","hasAlreadyActivated","timeToRefresh","reload","isRefreshTimerActivated","startTimer","closable","footer","CheckUpdate","versionInfo","getVersionInfo","performUpdate","currentVersion","canUpdate","onPerformUpdateClicked","ReloadCaptainModal_ReloadCaptainModal","NginxConfig","nginxConfig","getNginxConfig","byDefault","setNginxConfig","onLoadDefaultNginxConfigClicked","onUpdateNginxConfigClicked","UnusedImagesTable","imageId","Math","min","whiteSpace","unusedImages","tags","selectedRowKeys","selectedRows","getCheckboxProps","record","rowSelection","getRowSelection","getData","DiskCleanup","selectedImagesForDelete","deleteImages","onGetOldImagesClicked","getUnusedImages","hasSelectedImagesForRemoval","onRemoveImagesClicked","UnusedImagesTable_UnusedImagesTable","Settings","CheckUpdate_CheckUpdate","NginxConfig_NginxConfig","ChangePass_ChangePass","DiskCleanup_DiskCleanup","OneClickAppsApi","getAllOneClickApps","downloadUrl","download_url","res","OneClickAppSelector","oneClickAppList","selectedApp","createOptions","OneClickVariablesSection","enteredVariables","oneClickAppVariables","v","blurredFields","allFieldValid","isFieldValueValid","onNextClicked","variable","currVal","isEnteredValueValid","validRegex","parts","exec","test","label","newModel","onBlur","createTextFields","OneClickAppDeploymentHelper","dockerComposeService","vols","elements","environment","envKey","image","dockerFileLines","OneClickAppDeployManager","onDeploymentStateChanged","deploymentHelper","template","values","stringified","steps","currentStep","createAppsArrayInOrder","apply","toConsumableArray","createDeploymentStepPromises","service","stepsTexts","stepName","onNextStepPromiseCreator","successMessage","instructions","end","promise","stepPromise","numberOfServices","servicesMap","dockerCompose","services","itCount","dependsOn","depends_on","dependencyAlreadyAdded","j","promises","createRegisterPromise","createConfigurationPromise","createDeploymentPromise","Step","es_steps","OneClickAppDeployProgress","deploymentState","stepsInfo","text","direction","createSteps","onFinishClicked","onRestartClicked","OneClickAppConfigPage","isUnmount","assertThisInitialized","oneClickAppDeployHelper","getOneClickAppByName","captainVersion","unshift","OneClickAppDeployProgress_OneClickAppDeployProgress","start","OneClickVariablesSection_OneClickVariablesSection","startDeployProcess","Header","Content","Sider","PageRoot","React","createRef","goToLogin","react","marginLeft","param","layout","createUpdateAvailableIfNeeded","collapsible","menu","onSelect","onSelectMenu","mode","defaultSelectedKeys","borderRight","Item","ref","overflowY","es_Switch","es_Route","path","component","AppDetails_AppDetails","assign","FormItem","es_form","Login","position","left","transform","WrappedNormalLoginForm","onLoginRequested","NormalLoginForm","handleSubmit","form","validateFields","getFieldDecorator","onSubmit","rules","required","prefix","float","htmlType","create","init","createStoreWithMiddleware","applyMiddleware","thunk","createStore","App","es","store","reducers","HashRouter","Switch","Route","Boolean","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8c2ea098.chunk.js","sourcesContent":["export const DEFAULT_REGISTRY_CHANGED = \"DEFAULT_REGISTRY_CHANGED\";\n\nexport function emitDefaultRegistryChanged(value: string | undefined) {\n  return {\n    type: DEFAULT_REGISTRY_CHANGED,\n    payload: value\n  };\n}\n","import { DEFAULT_REGISTRY_CHANGED } from \"../actions/DefaultRegistryActions\";\n\nexport default function(state = {}, action: { payload: any; type: string }) {\n  switch (action.type) {\n    case DEFAULT_REGISTRY_CHANGED:\n      return { ...state, defaultRegistryId: action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport DefaultRegistryReducer from \"./DefaultRegistryReducer\";\n\nconst rootReducer = combineReducers({\n  registryReducer: DefaultRegistryReducer\n});\n\nexport default rootReducer;\n","// In the future this can be set up to report crashes\nclass CrashReporter {\n  init() {}\n\n  captureException(err: any) {\n    err = err || \"NULL\";\n    if (!(err instanceof Error)) err = new Error(err + \"\");\n  }\n\n  captureMessage(message: any) {}\n}\n\nlet instance: CrashReporter | undefined = undefined;\n\nconst getInstance = function() {\n  if (!instance) instance = new CrashReporter();\n  return instance;\n};\n\nexport default {\n  getInstance: getInstance\n};\n","import CrashReporter from \"./CrashReporter\";\n\nclass ErrorFactory {\n  public readonly OKAY = 100;\n  public readonly OKAY_BUILD_STARTED = 101;\n\n  public readonly STATUS_ERROR_GENERIC = 1000;\n  public readonly STATUS_ERROR_CAPTAIN_NOT_INITIALIZED = 1001;\n  public readonly STATUS_ERROR_USER_NOT_INITIALIZED = 1101;\n  public readonly STATUS_ERROR_NOT_AUTHORIZED = 1102;\n  public readonly STATUS_ERROR_ALREADY_EXIST = 1103;\n  public readonly STATUS_ERROR_BAD_NAME = 1104;\n  public readonly STATUS_WRONG_PASSWORD = 1105;\n  public readonly STATUS_AUTH_TOKEN_INVALID = 1106;\n  public readonly VERIFICATION_FAILED = 1107;\n\n  public readonly UNKNOWN_ERROR = 1999;\n\n  constructor() {}\n\n  createError(status: number, message: string) {\n    let e = new Error(message) as any;\n    e.captainStatus = status;\n    e.captainMessage = message;\n    return e;\n  }\n\n  eatUpPromiseRejection() {\n    return function(error: any) {\n      CrashReporter.getInstance().captureException(error);\n      // nom nom\n    };\n  }\n}\n\nexport default new ErrorFactory();\n","export default class Logger {\n  static log(s: string) {\n    console.log(s);\n  }\n\n  static error(s: any) {\n    console.error(s);\n  }\n\n  static dev(s: string) {\n    if (process.env.REACT_APP_IS_DEBUG) {\n      console.log(\">>> \", s);\n    }\n  }\n}\n","import axios from \"axios\";\nimport ErrorFactory from \"../utils/ErrorFactory\";\nimport Logger from \"../utils/Logger\";\n\nvar TOKEN_HEADER = \"x-captain-auth\";\nvar NAMESPACE = \"x-namespace\";\nvar CAPTAIN = \"captain\";\n\nexport default class HttpClient {\n  public readonly GET = \"GET\";\n  public readonly POST = \"POST\";\n  public isDestroyed = false;\n\n  constructor(\n    private baseUrl: string,\n    private authToken: string,\n    private onAuthFailure: () => Promise<any>\n  ) {\n    //\n  }\n\n  createHeaders() {\n    let headers: any = {};\n    if (this.authToken) headers[TOKEN_HEADER] = this.authToken;\n    headers[NAMESPACE] = CAPTAIN;\n\n    // check user/appData or apiManager.uploadAppData before changing this signature.\n    return headers;\n  }\n\n  setAuthToken(authToken: string) {\n    this.authToken = authToken;\n  }\n\n  destroy() {\n    this.isDestroyed = true;\n  }\n\n  fetch(method: \"GET\" | \"POST\", endpoint: string, variables: any) {\n    const self = this;\n    return function(): Promise<any> {\n      return self\n        .fetchInternal(method, endpoint, variables) //\n        .then(function(axiosResponse) {\n          const data = axiosResponse.data; // this is an axios thing!\n          if (data.status === ErrorFactory.STATUS_AUTH_TOKEN_INVALID) {\n            return self\n              .onAuthFailure() //\n              .then(function() {\n                return self\n                  .fetchInternal(method, endpoint, variables)\n                  .then(function(newAxiosResponse) {\n                    return newAxiosResponse.data;\n                  });\n              });\n          } else {\n            return data;\n          }\n        })\n        .then(function(data) {\n          if (\n            data.status !== ErrorFactory.OKAY &&\n            data.status !== ErrorFactory.OKAY_BUILD_STARTED\n          ) {\n            throw ErrorFactory.createError(\n              data.status || ErrorFactory.UNKNOWN_ERROR,\n              data.description || \"\"\n            );\n          }\n          return data;\n        })\n        .then(function(data) {\n          // These two blocks are clearly memory leaks! But I don't have time to fix them now... I need to CANCEL the promise, but since I don't\n          // have CANCEL method on the native Promise, I return a promise that will never RETURN if the HttpClient is destroyed.\n          // Will fix them later... but it shouldn't be a big deal anyways as it's only a problem when user navigates away from a page before the\n          // network request returns back.\n          return new Promise(function(resolve, reject) {\n            // data.data here is the \"data\" field inside the API response! {status: 100, description: \"Login succeeded\", data: {…}}\n            if (!self.isDestroyed) return resolve(data.data);\n          });\n        })\n        .catch(function(error) {\n          Logger.error(error);\n          return new Promise(function(resolve, reject) {\n            if (!self.isDestroyed) return reject(error);\n          });\n        });\n    };\n  }\n\n  fetchInternal(method: \"GET\" | \"POST\", endpoint: string, variables: any) {\n    if (method === this.GET) return this.getReq(endpoint, variables);\n\n    if (method === this.POST) return this.postReq(endpoint, variables);\n\n    throw new Error(\"Unknown method: \" + method);\n  }\n\n  getReq(endpoint: string, variables: any) {\n    const self = this;\n    return axios\n      .get(this.baseUrl + endpoint, {\n        params: variables,\n        headers: self.createHeaders()\n      }) //\n      .then(function(data) {\n        //console.log(data);\n        return data;\n      });\n  }\n\n  postReq(endpoint: string, variables: any) {\n    const self = this;\n    return axios\n      .post(this.baseUrl + endpoint, variables, {\n        headers: self.createHeaders()\n      }) //\n      .then(function(data) {\n        //console.log(data);\n        return data;\n      });\n  }\n}\n","import HttpClient from \"./HttpClient\";\nimport Logger from \"../utils/Logger\";\nimport { IAppDef } from \"../containers/apps/AppDefinition\";\nimport { IRegistryInfo } from \"../models/IRegistryInfo\";\nimport Utils from \"../utils/Utils\";\nimport { ICaptainDefinition } from \"../models/ICaptainDefinition\";\nimport { IVersionInfo } from \"../models/IVersionInfo\";\n\nconst BASE_DOMAIN = process.env.REACT_APP_API_URL\n  ? process.env.REACT_APP_API_URL\n  : \"\";\nconst URL = BASE_DOMAIN + \"/api/v2\";\nLogger.dev(\"API URL: \" + URL);\n\nexport default class ApiManager {\n  private static lastKnownPassword: string = process.env\n    .REACT_APP_DEFAULT_PASSWORD\n    ? process.env.REACT_APP_DEFAULT_PASSWORD + \"\"\n    : \"captain42\";\n  private static authToken: string = !!process.env.REACT_APP_IS_DEBUG\n    ? \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7Im5hbWVzcGFjZSI6ImNhcHRhaW4iLCJ0b2tlblZlcnNpb24iOiI5NmRjM2U1MC00ZDk3LTRkNmItYTIzMS04MmNiZjY0ZTA2NTYifSwiaWF0IjoxNTQ1OTg0MDQwLCJleHAiOjE1ODE5ODQwNDB9.uGJyhb2JYsdw9toyMKX28bLVuB0PhnS2POwEjKpchww\"\n    : \"\";\n\n  private http: HttpClient;\n\n  constructor() {\n    const self = this;\n    this.http = new HttpClient(URL, ApiManager.authToken, function() {\n      return self.getAuthToken(ApiManager.lastKnownPassword);\n    });\n  }\n\n  destroy() {\n    this.http.destroy();\n  }\n\n  setAuthToken(authToken: string) {\n    ApiManager.authToken = authToken;\n    this.http.setAuthToken(authToken);\n  }\n\n  static isLoggedIn() {\n    return !!ApiManager.authToken;\n  }\n\n  getAuthToken(password: string) {\n    const http = this.http;\n    ApiManager.lastKnownPassword = password;\n\n    const self = this;\n    return Promise.resolve() //\n      .then(http.fetch(http.POST, \"/login\", { password }))\n      .then(function(data) {\n        self.setAuthToken(data.token);\n      });\n  }\n\n  getCaptainInfo() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/system/info\", {}));\n  }\n\n  updateRootDomain(rootDomain: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/system/changerootdomain\", { rootDomain })\n      );\n  }\n\n  enableRootSsl(emailAddress: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.POST, \"/user/system/enablessl\", { emailAddress }));\n  }\n\n  forceSsl(isEnabled: boolean) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.POST, \"/user/system/forcessl\", { isEnabled }));\n  }\n\n  getAllApps() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/apps/appDefinitions\", {}));\n  }\n\n  fetchBuildLogs(appName: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/apps/appData/\" + appName, {}));\n  }\n\n  uploadAppData(appName: string, file: File) {\n    const http = this.http;\n    var formData = new FormData();\n    formData.append(\"sourceFile\", file);\n    return Promise.resolve() //\n      .then(\n        http.fetch(\n          http.POST,\n          \"/user/apps/appData/\" + appName + \"?detached=1\",\n          formData\n        )\n      );\n  }\n\n  uploadCaptainDefinitionContent(\n    appName: string,\n    captainDefinition: ICaptainDefinition,\n    gitHash: string,\n    detached: boolean\n  ) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(\n          http.POST,\n          \"/user/apps/appData/\" + appName + (detached ? \"?detached=1\" : \"\"),\n          {\n            captainDefinitionContent: JSON.stringify(captainDefinition),\n            gitHash\n          }\n        )\n      );\n  }\n\n  updateConfigAndSave(appName: string, appDefinition: IAppDef) {\n    var instanceCount = appDefinition.instanceCount;\n    var envVars = appDefinition.envVars;\n    var notExposeAsWebApp = appDefinition.notExposeAsWebApp;\n    var forceSsl = appDefinition.forceSsl;\n    var volumes = appDefinition.volumes;\n    var ports = appDefinition.ports;\n    var nodeId = appDefinition.nodeId;\n    var appPushWebhook = appDefinition.appPushWebhook;\n    var customNginxConfig = appDefinition.customNginxConfig;\n    var preDeployFunction = appDefinition.preDeployFunction;\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/apps/appDefinitions/update\", {\n          appName: appName,\n          instanceCount: instanceCount,\n          notExposeAsWebApp: notExposeAsWebApp,\n          forceSsl: forceSsl,\n          volumes: volumes,\n          ports: ports,\n          customNginxConfig: customNginxConfig,\n          appPushWebhook: appPushWebhook,\n          nodeId: nodeId,\n          preDeployFunction: preDeployFunction,\n          envVars: envVars\n        })\n      );\n  }\n\n  registerNewApp(appName: string, hasPersistentData: boolean) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/apps/appDefinitions/register\", {\n          appName,\n          hasPersistentData\n        })\n      );\n  }\n\n  deleteApp(appName: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/apps/appDefinitions/delete\", {\n          appName\n        })\n      );\n  }\n\n  enableSslForBaseDomain(appName: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/apps/appDefinitions/enablebasedomainssl\", {\n          appName\n        })\n      );\n  }\n\n  attachNewCustomDomainToApp(appName: string, customDomain: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/apps/appDefinitions/customdomain\", {\n          appName,\n          customDomain\n        })\n      );\n  }\n\n  enableSslForCustomDomain(appName: string, customDomain: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(\n          http.POST,\n          \"/user/apps/appDefinitions/enablecustomdomainssl\",\n          {\n            appName,\n            customDomain\n          }\n        )\n      );\n  }\n\n  removeCustomDomain(appName: string, customDomain: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/apps/appDefinitions/removecustomdomain\", {\n          appName,\n          customDomain\n        })\n      );\n  }\n\n  getLoadBalancerInfo() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/system/loadbalancerinfo\", {}));\n  }\n\n  getNetDataInfo() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/system/netdata\", {}));\n  }\n\n  updateNetDataInfo(netDataInfo: any) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.POST, \"/user/system/netdata\", { netDataInfo }));\n  }\n\n  changePass(oldPassword: string, newPassword: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/changepassword\", {\n          oldPassword,\n          newPassword\n        })\n      );\n  }\n\n  getVersionInfo(): Promise<IVersionInfo> {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/system/versioninfo\", {}));\n  }\n\n  performUpdate(latestVersion: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/system/versioninfo\", { latestVersion })\n      );\n  }\n\n  getNginxConfig() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/system/nginxconfig\", {}));\n  }\n\n  setNginxConfig(customBase: string, customCaptain: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/system/nginxconfig\", {\n          baseConfig: { customValue: customBase },\n          captainConfig: { customValue: customCaptain }\n        })\n      );\n  }\n\n  getUnusedImages(mostRecentLimit: number) {\n    const http = this.http;\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.GET, \"/user/apps/appDefinitions/unusedImages\", {\n          mostRecentLimit: mostRecentLimit + \"\"\n        })\n      );\n  }\n\n  deleteImages(imageIds: string[]) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/apps/appDefinitions/deleteImages\", {\n          imageIds\n        })\n      );\n  }\n\n  getDockerRegistries() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/registries\", {}));\n  }\n\n  enableSelfHostedDockerRegistry() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(\n          http.POST,\n          \"/user/system/selfhostregistry/enableregistry\",\n          {}\n        )\n      );\n  }\n\n  disableSelfHostedDockerRegistry() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(\n          http.POST,\n          \"/user/system/selfhostregistry/disableregistry\",\n          {}\n        )\n      );\n  }\n\n  addDockerRegistry(dockerRegistry: IRegistryInfo) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/registries/insert\", { ...dockerRegistry })\n      );\n  }\n\n  updateDockerRegistry(dockerRegistry: IRegistryInfo) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/registries/update\", { ...dockerRegistry })\n      );\n  }\n\n  deleteDockerRegistry(registryId: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/registries/delete\", {\n          registryId\n        })\n      );\n  }\n\n  setDefaultPushDockerRegistry(registryId: string) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/registries/setpush\", {\n          registryId\n        })\n      );\n  }\n\n  getAllNodes() {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(http.fetch(http.GET, \"/user/system/nodes\", {}));\n  }\n\n  addDockerNode(\n    nodeType: string,\n    privateKey: string,\n    remoteNodeIpAddress: string,\n    captainIpAddress: string\n  ) {\n    const http = this.http;\n\n    return Promise.resolve() //\n      .then(\n        http.fetch(http.POST, \"/user/system/nodes\", {\n          nodeType,\n          privateKey,\n          remoteNodeIpAddress,\n          captainIpAddress\n        })\n      );\n  }\n}\n","import React, { Component, MouseEvent } from \"react\";\n\nexport default class ClickableLink extends Component<\n  { onLinkClicked: Function },\n  {}\n> {\n  handleClick(e: MouseEvent) {\n    e.preventDefault();\n    if (this.props.onLinkClicked) this.props.onLinkClicked();\n  }\n\n  render() {\n    return <a onClick={e => this.handleClick(e)}>{this.props.children}</a>;\n  }\n}\n","import { Component } from \"react\";\nimport ApiManager from \"../../api/ApiManager\";\n\nexport default class ApiComponent<P = {}, S = {}> extends Component<P, S> {\n  protected willUnmountSoon: boolean;\n  protected apiManager: ApiManager;\n\n  constructor(props: any) {\n    super(props);\n    this.willUnmountSoon = false;\n    this.apiManager = new ApiManager();\n  }\n\n  componentWillUnmount() {\n    this.willUnmountSoon = true;\n    this.apiManager.destroy();\n  }\n}\n","import React, { Component } from \"react\";\nimport { Spin, Icon } from \"antd\";\n\nexport default class CenteredSpinner extends Component {\n  render() {\n    const antIcon = <Icon type=\"loading\" style={{ fontSize: 32 }} spin />;\n\n    return (\n      <div\n        style={{\n          width: \"100%\",\n          textAlign: \"center\"\n        }}\n      >\n        <Spin\n          style={{\n            marginTop: 60,\n            marginBottom: 60,\n            width: \"100%\"\n          }}\n          indicator={antIcon}\n          size=\"large\"\n        />\n      </div>\n    );\n  }\n}\n","import { message, Button } from \"antd\";\n\nexport default class Toaster {\n  static toast(error: any) {\n    let errorMessage = \"Something bad happened.\";\n    if (error.captainStatus) {\n      let errorDescription = error.captainMessage || errorMessage;\n      errorMessage = `${error.captainStatus} : ${errorDescription}`;\n    }\n    message.error(errorMessage);\n  }\n\n  static createCatcher() {\n    return function(error: any) {\n      Toaster.toast(error);\n    };\n  }\n}\n","import React, { Component } from \"react\";\nimport { Modal, Tooltip, Row, Col, Card, Input, Button } from \"antd\";\nimport ApiComponent from \"./global/ApiComponent\";\nimport CenteredSpinner from \"./global/CenteredSpinner\";\nimport Toaster from \"../utils/Toaster\";\nconst Search = Input.Search;\n\nexport default class Dashboard extends ApiComponent<\n  {},\n  { isLoading: boolean; apiData: any; userEmail: string }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      userEmail: \"\",\n      isLoading: true,\n      apiData: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.reFetchData();\n  }\n\n  reFetchData() {\n    const self = this;\n    this.apiManager\n      .getCaptainInfo()\n      .then(function(data: any) {\n        self.setState({ isLoading: false, apiData: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  onForceSslClicked() {\n    const self = this;\n\n    const isUsingHttp = window.location.href.startsWith(\"http://\");\n\n    Modal.confirm({\n      title: \"Force HTTPS\",\n      content: (\n        <p>\n          Once Force HTTPS is activated, all HTTP traffic is redirected to\n          HTTPS.\n          {isUsingHttp\n            ? \"Since this is a one-way action, and there is no revert, it is highly recommended that you test the HTTPS website first.\"\n            : \"\"}{\" \"}\n          Do you still want to proceed?\n        </p>\n      ),\n      onOk() {\n        self.apiManager\n          .forceSsl(true)\n          .then(function() {\n            return new Promise(function(resolve, reject) {\n              Modal.success({\n                title: \"Force HTTPS activated!\",\n                content: (\n                  <div>\n                    <p>\n                      All HTTP traffic is now redirected to HTTPS.{\" \"}\n                      {isUsingHttp\n                        ? \"You will have to login again as you will now be redirected to HTTPS website.\"\n                        : \"\"}\n                    </p>\n                  </div>\n                ),\n                onOk() {\n                  resolve();\n                },\n                onCancel() {\n                  resolve();\n                }\n              });\n            });\n          })\n          .then(function() {\n            if (isUsingHttp) {\n              window.location.replace(\n                \"https://\" + self.state.apiData.rootDomain\n              );\n            }\n          })\n          .catch(Toaster.createCatcher());\n      },\n      onCancel() {\n        // do nothing\n      }\n    });\n  }\n\n  onEnableSslClicked() {\n    const self = this;\n    const IGNORE = \"IGNORE\";\n\n    Promise.resolve()\n      .then(function() {\n        return new Promise(function(resolve, reject) {\n          Modal.success({\n            title: \"Enable HTTPS\",\n            content: (\n              <div>\n                <p>\n                  Captain uses{\" \"}\n                  <a\n                    href=\"https://letsencrypt.org/\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    Let&#39;s Encrypt\n                  </a>{\" \"}\n                  to provide free SSL Certificates (HTTPS). This email address\n                  is very important as Let&#39;s Encrypt uses it for validation\n                  purposes. Please provide a valid email here.\n                </p>\n                <p>\n                  IMPORTANT: Once you enable HTTPS, you cannot edit the root\n                  domain ever again. Make sure you use a good root domain. A\n                  good practice is to go one level deeper and setup your root\n                  domain. For example, if you own <code>example.com</code>, use{\" \"}\n                  <code>*.captainroot.example.com</code> as your root domain.\n                  This will allow you to better manage your subdomains, do not\n                  use <code>*.example.com</code> as your root domain.\n                </p>\n                <Input\n                  placeholder=\"your@email.com\"\n                  type=\"email\"\n                  onChange={event =>\n                    self.setState({\n                      userEmail: (event.target.value || \"\").trim()\n                    })\n                  }\n                />\n              </div>\n            ),\n            onOk() {\n              resolve(self.state.userEmail || \"\");\n            },\n            onCancel() {\n              resolve(undefined);\n            }\n          });\n        });\n      })\n      .then(function(data: any) {\n        if (data === undefined) return IGNORE;\n        self.setState({ isLoading: true });\n        return self.apiManager.enableRootSsl(data);\n      })\n\n      .then(function(data: any) {\n        if (data === IGNORE) return;\n\n        self.reFetchData();\n\n        Modal.success({\n          title: \"Root Domain HTTPS activated!\",\n          content: (\n            <div>\n              <p>\n                You can now use{\" \"}\n                <code>{\"https://\" + self.state.apiData.rootDomain}</code>. Next\n                step is to Force HTTPS to disallow plain HTTP traffic.\n              </p>\n            </div>\n          )\n        });\n\n        return true;\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  updateRootDomain(rootDomain: string) {\n    const self = this;\n    this.apiManager\n      .updateRootDomain(rootDomain)\n      .then(function(data: any) {\n        Modal.success({\n          title: \"Root Domain Updated\",\n          content: (\n            <div>\n              <p>\n                Click Ok to get redirected to your new root domain. You need to\n                log in again.\n              </p>\n            </div>\n          ),\n          onOk() {\n            window.location.replace(\"http://captain.\" + rootDomain);\n          }\n        });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n\n    if (self.state.isLoading) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        {self.createInitialSetup()}\n        <br />\n        {self.createSetupPanel()}\n      </div>\n    );\n  }\n\n  createSetupPanel() {\n    const self = this;\n    return (\n      <Row>\n        <Col span={14} offset={5}>\n          <Card title=\"Captain Root Domain Configurations\">\n            <div>\n              <p>\n                The very first thing that Captain needs is a root domain. For\n                example, if you own <i>myawesomecompany.com</i>, you can use{\" \"}\n                <i>captain.myawesomecompany.com</i> or{\" \"}\n                <i>foo.bar.myawesomecompany.com</i> as your root domain. First,\n                you need to make sure that the ip address for all subdomains of\n                the root domain resolve to the Captain ip address. To do this,\n                go to the DNS settings in your domain provider website, and set\n                a wild card A entry.\n                <br /> For example: <b> Type:</b> <u>A</u>,{\" \"}\n                <b>Name (or host):</b> <u>*.captain</u>,\n                <b> IP (or Points to):</b> <u>110.120.130.140</u> where this is\n                the IP address of your captain machine.\n              </p>\n              <p>\n                <i>\n                  NOTE: DNS settings might take several hours to take into\n                  effect. See{\" \"}\n                  <a\n                    href=\"https://ca.godaddy.com/help/what-factors-affect-dns-propagation-time-1746\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {\" \"}\n                    here\n                  </a>{\" \"}\n                  for more details.\n                </i>\n              </p>\n            </div>\n\n            <hr />\n            <br />\n\n            <Row>\n              <div>\n                <p>\n                  For example, if you set <code>*.captainroot.example.com</code>{\" \"}\n                  to the IP address of your server, just enter{\" \"}\n                  <code>captainroot.example.com</code> in the box below:\n                </p>\n                <br />\n                <div>\n                  <Search\n                    addonBefore=\"[wildcard]&nbsp;.\"\n                    disabled={self.state.apiData.hasRootSsl}\n                    placeholder=\"captainroot.example.com\"\n                    defaultValue={self.state.apiData.rootDomain + \"\"}\n                    enterButton=\"Update Domain\"\n                    onSearch={value => self.updateRootDomain(value)}\n                  />\n                </div>\n              </div>\n              <br />\n              <br />\n              <Row type=\"flex\" justify=\"end\">\n                <Tooltip title=\"Using Let's Encrypt Free Service\">\n                  <Button\n                    disabled={\n                      self.state.apiData.hasRootSsl ||\n                      !self.state.apiData.rootDomain\n                    }\n                    onClick={() => self.onEnableSslClicked()}\n                  >\n                    Enable HTTPS\n                  </Button>\n                </Tooltip>\n                &nbsp;&nbsp;\n                <Tooltip title=\"Redirect all HTTP to HTTPS\">\n                  <Button\n                    disabled={\n                      !self.state.apiData.hasRootSsl ||\n                      self.state.apiData.forceSsl\n                    }\n                    onClick={() => self.onForceSslClicked()}\n                  >\n                    Force HTTPS\n                  </Button>\n                </Tooltip>\n              </Row>\n\n              <div />\n            </Row>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n\n  createInitialSetup() {\n    if (this.state.apiData.hasRootSsl) {\n      // User has set up the machine, no need to show the welcome message\n      return <div />;\n    }\n\n    return (\n      <Row>\n        <Col span={18} offset={3}>\n          <Card title=\"Captain Initial Setup\">\n            <div>\n              <h3>Congratulations! 🎉🎉</h3>\n              <p>\n                <b /> You have installed CaptainDuckDuck successfully! You can\n                set up your CaptainDuckDuck instance in two ways:\n              </p>\n\n              <ul>\n                <li>\n                  <b>Command Line Tool (RECOMMENDED): </b> On your local\n                  machine, simply run\n                  <br />\n                  <code>npm i -g captainduckduck</code>\n                  <br />\n                  followed by\n                  <br />\n                  <code>captainduckduck serversetup</code>. Then follow the\n                  guide.\n                </li>\n                <li>\n                  <b>Use the panel below: </b> This is a non-guided version of\n                  the Command Line method. Use this method only for the purpose\n                  of experimentation.\n                </li>\n              </ul>\n            </div>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport ApiManager from \"../api/ApiManager\";\n\nexport default class LoggedInCatchAll extends Component<\n  RouteComponentProps<any>\n> {\n  componentDidMount() {\n    if (!ApiManager.isLoggedIn()) {\n      this.props.history.push(\"/login\");\n    } else {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  render() {\n    return <div />;\n  }\n}\n","import React, { Component } from \"react\";\nimport { Collapse } from \"antd\";\n\nexport default class DockerRegistriesStaticInfo extends Component {\n  render() {\n    return (\n      <div>\n        <p>\n          Setting up Docker Registry is <b>only required</b> if you plan to run\n          your Captain on a cluster. For single node Captain deployments, Docker\n          Registry is not recommended as it makes deployment significantly\n          slower.\n        </p>\n        <Collapse>\n          <Collapse.Panel header=\"More info\" key=\"1\">\n            <p>\n              Docker registry is a repository for your built images. It is\n              similar to Github, or Bitbucker, with private repositories.\n              However, instead of source code, it contains the built artifacts\n              for your application. It is required for cluster mode, as other\n              nodes need to access the built image in order for your application\n              to run on them.\n            </p>\n            <p>\n              Captain provides two methods for you to setup your docker\n              registry:\n            </p>\n            <ul>\n              <li>\n                <b>Self hosted Docker Registry:</b> This is the simplest way to\n                setup a docker registry. Captain creates an instance of Docker\n                Registry on the main machine and it manages the registry for\n                you. However, it has its own limitation. If your main machine is\n                destroyed, your local images will be lost. In most cases, this\n                is not a disaster as you can re-deploy your apps from your\n                source code.\n                <br />\n              </li>\n              <li>\n                <b>Remote Docker Registry:</b> This approach relies on a remote\n                service to act as your Docker Registry. Using this approach,\n                you'll have a more reliable cluster, assuming the third party\n                service you use is reliable! There are multiple private Docker\n                Registry services available: Google Container Registry, Amazon\n                EC2 Container Registry, Quay and etc. Note that this approach\n                costs you money.\n              </li>\n            </ul>\n          </Collapse.Panel>\n        </Collapse>\n      </div>\n    );\n  }\n}\n","import { number } from \"prop-types\";\n\nexport default {\n  copyObject<T>(obj: T): T {\n    return JSON.parse(JSON.stringify(obj)) as T;\n  },\n\n  generateUuidV4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n      var r = (Math.random() * 16) | 0,\n        v = c === \"x\" ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  },\n\n  getAnsiColorRegex() {\n    const pattern = [\n      \"[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:[a-zA-Z\\\\d]*(?:;[a-zA-Z\\\\d]*)*)?\\\\u0007)\",\n      \"(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))\"\n    ].join(\"|\");\n\n    return new RegExp(pattern, \"g\");\n  }\n};\n","import React, { Component } from \"react\";\nimport ClickableLink from \"../global/ClickableLink\";\nimport { IRegistryApi } from \"../../models/IRegistryInfo\";\nimport { Icon, Modal, Select, Alert } from \"antd\";\nimport Utils from \"../../utils/Utils\";\n\nconst Option = Select.Option;\nconst NONE = \"none\";\nconst DISABLED_PUSH = \"disabled push\";\n\nexport default class DefaultDockerRegistry extends Component<\n  {\n    apiData: IRegistryApi;\n    changeDefault: (regId: string) => void;\n  },\n  { isInEditMode: boolean; newSelectedDefaultId: string }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      isInEditMode: false,\n      newSelectedDefaultId: \"\"\n    };\n  }\n\n  getDefaultRegText() {\n    const registries = this.props.apiData.registries;\n    const defaultPushRegistryId = this.props.apiData.defaultPushRegistryId;\n    for (let index = 0; index < registries.length; index++) {\n      const element = registries[index];\n      if (element.id === defaultPushRegistryId) {\n        return element.registryUser + \" @ \" + element.registryDomain;\n      }\n    }\n\n    return DISABLED_PUSH;\n  }\n\n  getAllOptions() {\n    const registries = Utils.copyObject(this.props.apiData.registries);\n    return registries.map(function(element) {\n      return (\n        <Option value={element.id} key={element.id}>\n          {element.registryUser + \" @ \" + element.registryDomain}\n        </Option>\n      );\n    });\n  }\n\n  render() {\n    const self = this;\n\n    return (\n      <div>\n        <Modal\n          title=\"Edit Push Registry\"\n          okText=\"Save and Update\"\n          onCancel={() => self.setState({ isInEditMode: false })}\n          onOk={() => {\n            self.setState({ isInEditMode: false });\n            self.props.changeDefault(self.state.newSelectedDefaultId);\n          }}\n          visible={self.state.isInEditMode}\n        >\n          <p>\n            Default Docker Registry is the registry that will be used to store\n            your newly built images. You can select <code>{DISABLED_PUSH}</code>{\" \"}\n            if you don't want to push your newly built images to any docker\n            registry. Keep in mind that if you use <code>{DISABLED_PUSH}</code>,\n            cluster nodes (if you happen to have more than one server) will not\n            be able to run your applications.\n          </p>\n          <p>Change the default Docker Registry:</p>\n          <Select\n            defaultValue={this.props.apiData.defaultPushRegistryId || NONE}\n            style={{ width: 300 }}\n            onChange={value => {\n              if (value == NONE) {\n                this.setState({ newSelectedDefaultId: \"\" });\n              } else {\n                this.setState({ newSelectedDefaultId: value });\n              }\n            }}\n          >\n            <Option value={NONE}>{DISABLED_PUSH}</Option>\n            {self.getAllOptions()}\n          </Select>\n\n          <div\n            style={{ marginTop: 20 }}\n            className={\n              !!self.state.newSelectedDefaultId ? \"hide-on-demand\" : \"\"\n            }\n          >\n            <Alert\n              showIcon={true}\n              type=\"warning\"\n              message=\"If you have a cluster (more than one server), you need to have a default push registry. If you only have one single server, disabling default push registry is fine.\"\n            />\n          </div>\n        </Modal>\n        <h3>Default Push Registry</h3>\n        <p>\n          Docker Registry for Pushing New Images:{\" \"}\n          <ClickableLink\n            onLinkClicked={() => {\n              self.setState({\n                isInEditMode: true,\n                newSelectedDefaultId:\n                  self.props.apiData.defaultPushRegistryId || \"\"\n              });\n            }}\n          >\n            <code>{this.getDefaultRegText()}</code> <Icon type=\"edit\" />\n          </ClickableLink>\n        </p>\n      </div>\n    );\n  }\n}\n","export interface IRegistryApi {\n  registries: IRegistryInfo[];\n  defaultPushRegistryId: string | undefined;\n}\n\nexport class IRegistryTypes {\n  static readonly LOCAL_REG = \"LOCAL_REG\";\n  static readonly REMOTE_REG = \"REMOTE_REG\";\n}\n\ntype IRegistryType = \"LOCAL_REG\" | \"REMOTE_REG\";\n\nexport interface IRegistryInfo {\n  id: string;\n  registryUser: string;\n  registryPassword: string;\n  registryDomain: string;\n  registryImagePrefix: string;\n  registryType: IRegistryType;\n}\n","import React, { Component } from \"react\";\nimport { Table, Icon, message, Modal, Input, Tooltip } from \"antd\";\nimport {\n  IRegistryApi,\n  IRegistryInfo,\n  IRegistryTypes\n} from \"../../models/IRegistryInfo\";\nimport ClickableLink from \"../global/ClickableLink\";\nimport Utils from \"../../utils/Utils\";\nimport { ColumnProps } from \"antd/lib/table\";\n\nconst EDITING_MODAL = \"EDITING_MODAL\";\nconst DELETING_MODAL = \"DELETING_MODAL\";\n\nexport default class DockerRegistryTable extends Component<\n  {\n    apiData: IRegistryApi;\n    editRegistry: (dockerRegistry: IRegistryInfo) => void;\n    deleteRegistry: (regId: string) => void;\n  },\n  {\n    modalShowing: \"EDITING_MODAL\" | \"DELETING_MODAL\" | undefined;\n    remoteRegistryToEdit: IRegistryInfo | undefined;\n    registryIdToDelete: string | undefined;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      modalShowing: undefined,\n      remoteRegistryToEdit: undefined,\n      registryIdToDelete: undefined\n    };\n  }\n\n  deleteRegistry(id: string) {\n    if (id === this.props.apiData.defaultPushRegistryId) {\n      Modal.warn({\n        title: \"Cannot Delete Default Push\",\n        content: (\n          <div>\n            This registry is set to be the default push. You cannot delete the\n            default push registry. To remove, first you need to change the\n            default push registry to another registry, or completely disable the\n            default push registry. Then, come back and delete this.\n          </div>\n        )\n      });\n      return;\n    }\n\n    this.setState({\n      registryIdToDelete: id,\n      modalShowing: DELETING_MODAL\n    });\n  }\n\n  editRegistry(dockerRegistry: IRegistryInfo) {\n    if (dockerRegistry.registryType === IRegistryTypes.LOCAL_REG) {\n      message.warn(\n        \"You cannot edit the self hosted registry. It is managed by Captain.\"\n      );\n      return;\n    }\n\n    this.setState({\n      modalShowing: EDITING_MODAL,\n      remoteRegistryToEdit: Utils.copyObject(dockerRegistry)\n    });\n  }\n\n  getCols(): ColumnProps<IRegistryInfo>[] {\n    const self = this;\n    const columns = [\n      {\n        title: \"User\",\n        dataIndex: \"registryUser\" as \"registryUser\"\n      },\n      {\n        title: \"Password\",\n        dataIndex: \"registryPassword\" as \"registryPassword\",\n        render: (registryPassword: string) => {\n          return <span>Edit to see.</span>;\n        }\n      },\n      {\n        title: \"Domain\",\n        dataIndex: \"registryDomain\" as \"registryDomain\"\n      },\n      {\n        title: \"Image Prefix\",\n        dataIndex: \"registryImagePrefix\" as \"registryImagePrefix\"\n      },\n      {\n        title: \"Actions\",\n        dataIndex: \"id\" as \"id\",\n        render: (id: string, reg: IRegistryInfo) => {\n          return (\n            <span>\n              <ClickableLink\n                onLinkClicked={() => {\n                  self.editRegistry(reg);\n                }}\n              >\n                <Icon type=\"form\" />\n              </ClickableLink>\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              <ClickableLink\n                onLinkClicked={() => {\n                  self.deleteRegistry(reg.id);\n                }}\n              >\n                <Icon type=\"delete\" />\n              </ClickableLink>\n            </span>\n          );\n        }\n      }\n    ];\n    return columns;\n  }\n\n  createEditModalContent() {\n    const self = this;\n\n    return (\n      <div style={{ maxWidth: 360 }}>\n        <Input\n          addonBefore=\"Username\"\n          placeholder=\"username | email@gmail.com\"\n          type=\"email\"\n          value={self.state.remoteRegistryToEdit!.registryUser}\n          onChange={e => {\n            const newData = Utils.copyObject(self.state.remoteRegistryToEdit!);\n            newData.registryUser = e.target.value.trim();\n            self.setState({ remoteRegistryToEdit: newData });\n          }}\n        />\n        <div style={{ height: 20 }} />\n        <Input\n          addonBefore=\"Password\"\n          placeholder=\"mypassword\"\n          type=\"text\"\n          value={self.state.remoteRegistryToEdit!.registryPassword}\n          onChange={e => {\n            const newData = Utils.copyObject(self.state.remoteRegistryToEdit!);\n            newData.registryPassword = e.target.value;\n            self.setState({ remoteRegistryToEdit: newData });\n          }}\n        />\n        <div style={{ height: 20 }} />\n        <Input\n          addonBefore=\"Domain\"\n          placeholder=\"registry-1.docker.io\"\n          type=\"text\"\n          value={self.state.remoteRegistryToEdit!.registryDomain}\n          onChange={e => {\n            const newData = Utils.copyObject(self.state.remoteRegistryToEdit!);\n            newData.registryDomain = e.target.value.trim();\n            self.setState({ remoteRegistryToEdit: newData });\n          }}\n        />\n        <div style={{ height: 20 }} />\n        <Input\n          addonBefore=\"Image Prefix\"\n          placeholder=\"username\"\n          addonAfter={\n            <Tooltip title=\"Your images will be tagged as RegistryDomain/ImagePrefix/ImageName. For most providers, Image Prefix is exactly your username, unless the field DOMAIN is specific to you, in that case, this prefix is empty.\">\n              <Icon type=\"info-circle\" />\n            </Tooltip>\n          }\n          type=\"text\"\n          value={self.state.remoteRegistryToEdit!.registryImagePrefix}\n          onChange={e => {\n            const newData = Utils.copyObject(self.state.remoteRegistryToEdit!);\n            newData.registryImagePrefix = e.target.value.trim();\n            self.setState({ remoteRegistryToEdit: newData });\n          }}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const self = this;\n    return (\n      <div>\n        <Modal\n          title=\"Confirm Delete\"\n          okText=\"Delete Registry\"\n          onCancel={() => self.setState({ modalShowing: undefined })}\n          onOk={() => {\n            self.setState({ modalShowing: undefined });\n            self.props.deleteRegistry(self.state.registryIdToDelete!);\n          }}\n          visible={self.state.modalShowing === DELETING_MODAL}\n        >\n          Are you sure you want to remote this registry from your list. You will\n          no longer be able to push to or pull from this registry.\n        </Modal>\n        <Modal\n          title=\"Edit Registry\"\n          okText=\"Save and Update\"\n          onCancel={() => self.setState({ modalShowing: undefined })}\n          onOk={() => {\n            self.setState({ modalShowing: undefined });\n            self.props.editRegistry(\n              Utils.copyObject(self.state.remoteRegistryToEdit!)\n            );\n          }}\n          visible={self.state.modalShowing === EDITING_MODAL}\n        >\n          {self.state.remoteRegistryToEdit ? (\n            self.createEditModalContent()\n          ) : (\n            <div />\n          )}\n        </Modal>\n        <h3>Docker Registries</h3>\n        <div>\n          <Table\n            rowKey=\"id\"\n            pagination={false}\n            columns={this.getCols()}\n            dataSource={this.props.apiData.registries}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Row, Modal, Input, Tooltip, Icon } from \"antd\";\nimport {\n  IRegistryInfo,\n  IRegistryTypes,\n  IRegistryApi\n} from \"../../models/IRegistryInfo\";\nimport Utils from \"../../utils/Utils\";\n\nconst ADDING_LOCAL = \"ADDING_LOCAL\";\nconst ADDING_REMOTE = \"ADDING_REMOTE\";\n\nexport default class DockerRegistryAdd extends Component<\n  {\n    apiData: IRegistryApi;\n    addDockerRegistry: (dockerRegistry: IRegistryInfo) => void;\n  },\n  {\n    modalShowing: \"ADDING_LOCAL\" | \"ADDING_REMOTE\" | undefined;\n    remoteRegistryToAdd: IRegistryInfo;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      modalShowing: undefined,\n      remoteRegistryToAdd: this.getPlainRegistryInfo()\n    };\n  }\n\n  getPlainRegistryInfo(): IRegistryInfo {\n    return {\n      id: \"\",\n      registryUser: \"\",\n      registryPassword: \"\",\n      registryDomain: \"\",\n      registryImagePrefix: \"\",\n      registryType: IRegistryTypes.REMOTE_REG\n    };\n  }\n\n  render() {\n    const self = this;\n\n    const hasSelfHostedRegistry =\n      this.props.apiData.registries\n        .map(reg => reg.registryType)\n        .indexOf(IRegistryTypes.LOCAL_REG) >= 0;\n\n    return (\n      <div>\n        <Modal\n          title=\"Self-Hosted Registry\"\n          okText=\"Enable Self-Hosted Registry\"\n          onCancel={() => self.setState({ modalShowing: undefined })}\n          onOk={() => {\n            self.setState({ modalShowing: undefined });\n            self.props.addDockerRegistry({\n              registryType: IRegistryTypes.LOCAL_REG // Other values are getting ignored by the downstream callback\n            } as IRegistryInfo);\n          }}\n          visible={self.state.modalShowing === ADDING_LOCAL}\n        >\n          <p>\n            You can read more about this type of registry on the page behind\n            this modal, specifically under \"More Info\" section. Do you want to\n            proceed and enable self-hosted Docker Registry?\n          </p>\n        </Modal>\n\n        <Modal\n          title=\"Remote Registry\"\n          okText=\"Add Remote Registry\"\n          onCancel={() => self.setState({ modalShowing: undefined })}\n          onOk={() => {\n            self.setState({ modalShowing: undefined });\n            self.props.addDockerRegistry(self.state.remoteRegistryToAdd);\n          }}\n          visible={self.state.modalShowing === ADDING_REMOTE}\n        >\n          <p>\n            You can read more about this type of registry on the page behind\n            this modal, specifically under \"More Info\" section.\n          </p>\n          <div style={{ height: 20 }} />\n          <div style={{ maxWidth: 360 }}>\n            <Input\n              addonBefore=\"Username\"\n              placeholder=\"username | email@gmail.com\"\n              type=\"email\"\n              value={self.state.remoteRegistryToAdd.registryUser}\n              onChange={e => {\n                const newData = Utils.copyObject(\n                  self.state.remoteRegistryToAdd\n                );\n                newData.registryUser = e.target.value.trim();\n                self.setState({ remoteRegistryToAdd: newData });\n              }}\n            />\n            <div style={{ height: 20 }} />\n            <Input\n              addonBefore=\"Password\"\n              placeholder=\"mypassword\"\n              type=\"text\"\n              value={self.state.remoteRegistryToAdd.registryPassword}\n              onChange={e => {\n                const newData = Utils.copyObject(\n                  self.state.remoteRegistryToAdd\n                );\n                newData.registryPassword = e.target.value;\n                self.setState({ remoteRegistryToAdd: newData });\n              }}\n            />\n            <div style={{ height: 20 }} />\n            <Input\n              addonBefore=\"Domain\"\n              placeholder=\"registry-1.docker.io\"\n              type=\"text\"\n              value={self.state.remoteRegistryToAdd.registryDomain}\n              onChange={e => {\n                const newData = Utils.copyObject(\n                  self.state.remoteRegistryToAdd\n                );\n                newData.registryDomain = e.target.value.trim();\n                self.setState({ remoteRegistryToAdd: newData });\n              }}\n            />\n            <div style={{ height: 20 }} />\n            <Input\n              addonBefore=\"Image Prefix\"\n              placeholder=\"username\"\n              addonAfter={\n                <Tooltip title=\"Your images will be tagged as RegistryDomain/ImagePrefix/ImageName. For most providers, Image Prefix is exactly your username, unless the field DOMAIN is specific to you, in that case, this prefix is empty.\">\n                  <Icon type=\"info-circle\" />\n                </Tooltip>\n              }\n              type=\"text\"\n              value={self.state.remoteRegistryToAdd.registryImagePrefix}\n              onChange={e => {\n                const newData = Utils.copyObject(\n                  self.state.remoteRegistryToAdd\n                );\n                newData.registryImagePrefix = e.target.value.trim();\n                self.setState({ remoteRegistryToAdd: newData });\n              }}\n            />\n          </div>\n        </Modal>\n\n        <div className={hasSelfHostedRegistry ? \"hide-on-demand\" : \"\"}>\n          <Row type=\"flex\" justify=\"end\">\n            <Button\n              onClick={() => self.setState({ modalShowing: ADDING_LOCAL })}\n            >\n              Add Self-Hosted Registry\n            </Button>\n          </Row>\n        </div>\n\n        <div style={{ height: 20 }} />\n        <Row type=\"flex\" justify=\"end\">\n          <Button\n            onClick={() =>\n              self.setState({\n                modalShowing: ADDING_REMOTE,\n                remoteRegistryToAdd: self.getPlainRegistryInfo()\n              })\n            }\n          >\n            Add Remote Registry\n          </Button>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Collapse, Row, Button, Alert, message } from \"antd\";\nimport DockerRegistriesStaticInfo from \"./DockerRegistriesStaticInfo\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\nimport Toaster from \"../../utils/Toaster\";\nimport DefaultDockerRegistry from \"./DefaultDockerRegistry\";\nimport DockerRegistryTable from \"./DockerRegistryTable\";\nimport { connect } from \"react-redux\";\nimport {\n  IRegistryApi,\n  IRegistryInfo,\n  IRegistryTypes\n} from \"../../models/IRegistryInfo\";\nimport DockerRegistryAdd from \"./DockerRegistryAdd\";\nimport { emitDefaultRegistryChanged } from \"../../actions/DefaultRegistryActions\";\n\nclass DockerRegistries extends ApiComponent<\n  { emitDefaultRegistryChanged: Function },\n  { apiData: IRegistryApi | undefined }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      apiData: undefined\n    };\n  }\n\n  fetchData() {\n    const self = this;\n    this.setState({ apiData: undefined });\n    this.apiManager\n      .getDockerRegistries()\n      .then(function(data) {\n        self.setState({ apiData: data });\n        self.props.emitDefaultRegistryChanged(\n          (data as IRegistryApi).defaultPushRegistryId\n        );\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  changeDefault(id: string) {\n    const self = this;\n    this.setState({ apiData: undefined });\n\n    this.apiManager\n      .setDefaultPushDockerRegistry(id)\n      .then(function() {\n        message.success(\"Default push registry successfully changed.\");\n      })\n      .catch(Toaster.createCatcher())\n      .then(function() {\n        self.fetchData();\n      });\n  }\n\n  deleteRegistry(id: string) {\n    const self = this;\n\n    const isSelfHosted =\n      self.state\n        .apiData!.registries.map(\n          reg => reg.registryType === IRegistryTypes.LOCAL_REG && reg.id === id\n        )\n        .indexOf(true) >= 0;\n\n    this.setState({ apiData: undefined });\n\n    (isSelfHosted\n      ? this.apiManager.disableSelfHostedDockerRegistry()\n      : this.apiManager.deleteDockerRegistry(id)\n    )\n      .then(function() {\n        message.success(\"Registry deleted.\");\n      })\n      .catch(Toaster.createCatcher())\n      .then(function() {\n        self.fetchData();\n      });\n  }\n\n  editRegistry(dockerRegistry: IRegistryInfo) {\n    const self = this;\n    this.setState({ apiData: undefined });\n\n    this.apiManager\n      .updateDockerRegistry(dockerRegistry)\n      .then(function() {\n        message.success(\"Registry updated.\");\n      })\n      .catch(Toaster.createCatcher())\n      .then(function() {\n        self.fetchData();\n      });\n  }\n\n  addDockerRegistry(dockerRegistry: IRegistryInfo) {\n    const self = this;\n    this.setState({ apiData: undefined });\n    (dockerRegistry.registryType === IRegistryTypes.LOCAL_REG\n      ? self.apiManager.enableSelfHostedDockerRegistry()\n      : self.apiManager.addDockerRegistry(dockerRegistry)\n    )\n      .then(function() {\n        message.success(\"Docker registry successfully added!\");\n      })\n      .catch(Toaster.createCatcher())\n      .then(function() {\n        self.fetchData();\n      });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    const self = this;\n    if (!this.state.apiData) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        <DockerRegistriesStaticInfo />\n\n        <div style={{ height: 60 }} />\n        <div\n          style={{ textAlign: \"center\" }}\n          className={\n            this.state.apiData.registries.length === 0 ? \"\" : \"hide-on-demand\"\n          }\n        >\n          <Alert\n            type=\"info\"\n            message=\"No registries is added yet. Go ahead and add your first registry!\"\n          />\n        </div>\n\n        <div\n          className={\n            this.state.apiData.registries.length > 0 ? \"\" : \"hide-on-demand\"\n          }\n        >\n          <DefaultDockerRegistry\n            apiData={self.state.apiData!}\n            changeDefault={id => {\n              self.changeDefault(id);\n            }}\n          />\n\n          <div style={{ height: 40 }} />\n\n          <DockerRegistryTable\n            apiData={self.state.apiData!}\n            deleteRegistry={id => {\n              self.deleteRegistry(id);\n            }}\n            editRegistry={dockerRegistry => {\n              self.editRegistry(dockerRegistry);\n            }}\n          />\n        </div>\n        <div style={{ height: 50 }} />\n        <DockerRegistryAdd\n          apiData={self.state.apiData!}\n          addDockerRegistry={dockerRegistry =>\n            self.addDockerRegistry(dockerRegistry)\n          }\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    defaultRegistryId: state.registryReducer.defaultRegistryId\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    emitDefaultRegistryChanged: emitDefaultRegistryChanged\n  }\n)(DockerRegistries);\n","import React, { Component } from \"react\";\nimport { Card, Row, Col, Input, Button, Icon, Radio, Tooltip } from \"antd\";\nimport Utils from \"../../utils/Utils\";\n\nexport interface INodeToAdd {\n  remoteNodeIpAddress: string;\n  captainIpAddress: string;\n  nodeType: string;\n  privateKey: string;\n}\n\nexport default class AddNode extends Component<\n  { onAddNodeClicked: (nodeToAdd: INodeToAdd) => void },\n  {\n    nodeToAdd: INodeToAdd;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      nodeToAdd: {\n        remoteNodeIpAddress: \"\",\n        captainIpAddress: \"\",\n        nodeType: \"worker\",\n        privateKey: \"\"\n      }\n    };\n  }\n\n  changeModel(childField: string, value: string) {\n    const nodeToAdd = Utils.copyObject(this.state.nodeToAdd) as any;\n    nodeToAdd[childField] = value;\n    this.setState({ nodeToAdd });\n  }\n\n  render() {\n    const self = this;\n    const nodeToAdd = self.state.nodeToAdd;\n\n    return (\n      <div>\n        <Card style={{ marginTop: 16 }} type=\"inner\" title=\"Attach New Node\">\n          <Row type=\"flex\" justify=\"space-between\">\n            <Col span={11}>\n              <Input\n                style={{ marginBottom: 10 }}\n                addonBefore=\"New node IP Address\"\n                placeholder=\"123.123.123.123\"\n                type=\"text\"\n                value={nodeToAdd.remoteNodeIpAddress}\n                onChange={e =>\n                  self.changeModel(\"remoteNodeIpAddress\", e.target.value)\n                }\n              />\n            </Col>\n            <Col span={11}>\n              <Input\n                style={{ marginBottom: 10 }}\n                addonBefore=\"Captain IP Address\"\n                placeholder=\"123.123.123.123\"\n                type=\"text\"\n                value={nodeToAdd.captainIpAddress}\n                onChange={e =>\n                  self.changeModel(\"captainIpAddress\", e.target.value)\n                }\n              />\n            </Col>\n            <Col span={24} style={{ marginTop: 10 }}>\n              <div style={{ paddingBottom: 5 }}>\n                &nbsp;SSH Private Key for <b>root</b> user\n              </div>\n              <Input.TextArea\n                style={{ marginBottom: 20 }}\n                className=\"code-input\"\n                rows={6}\n                placeholder=\"-----BEGIN RSA PRIVATE KEY-----&#10;MIICWwIBAAKBgQDArfs81aizq8ckg16e+ewFgJg7J...\"\n                value={nodeToAdd.privateKey}\n                onChange={e => self.changeModel(\"privateKey\", e.target.value)}\n              />\n            </Col>\n          </Row>\n          <Row type=\"flex\" justify=\"end\">\n            <Radio.Group\n              defaultValue=\"a\"\n              buttonStyle=\"outline\"\n              style={{ marginBottom: 20 }}\n              value={nodeToAdd.nodeType}\n              onChange={e => self.changeModel(\"nodeType\", e.target.value)}\n            >\n              <Radio.Button value=\"worker\">Join as worker node</Radio.Button>\n              <Radio.Button value=\"manager\">Join as manager node</Radio.Button>\n            </Radio.Group>\n            &nbsp;\n            <Tooltip title=\"Tip: For every 5 workers, add 2 manager nodes, keeping manager node count as an odd number. Therefore, use worker node for the first 4 nodes you add to your cluster.\">\n              <Icon\n                style={{ paddingTop: 8, paddingLeft: 8 }}\n                type=\"info-circle\"\n              />\n            </Tooltip>\n          </Row>\n\n          <Row type=\"flex\" justify=\"end\">\n            <Button type=\"primary\" onClick={() => self.props.onAddNodeClicked(self.state.nodeToAdd)}>\n              <Icon type=\"cluster\" /> &nbsp; Join Cluster\n            </Button>\n          </Row>\n        </Card>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport AddNode, { INodeToAdd } from \"./AddNode\";\nimport { Alert, Row, Col, Divider, message } from \"antd\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport Toaster from \"../../utils/Toaster\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\n\nclass CurrentNodes extends ApiComponent<\n  {\n    defaultRegistryId: string | undefined;\n  },\n  { apiData: any }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      apiData: undefined\n    };\n  }\n\n  fetchData() {\n    const self = this;\n    self.setState({ apiData: undefined });\n    self.apiManager\n      .getAllNodes()\n      .then(function(data) {\n        self.setState({ apiData: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  addNode(nodeToAdd: INodeToAdd) {\n    const self = this;\n    self.setState({ apiData: undefined });\n    self.apiManager\n      .addDockerNode(\n        nodeToAdd.nodeType,\n        nodeToAdd.privateKey,\n        nodeToAdd.remoteNodeIpAddress,\n        nodeToAdd.captainIpAddress\n      )\n      .then(function() {\n        message.success(\"Node added successfully!\");\n      })\n      .catch(Toaster.createCatcher())\n      .then(function(data) {\n        self.fetchData();\n      });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  createNodes() {\n    const nodes: any[] = this.state.apiData.nodes || [];\n\n    return nodes.map(node => {\n      return (\n        <div\n          key={node.nodeId}\n          style={{\n            paddingTop: 15,\n            paddingBottom: 20,\n            paddingRight: 20,\n            paddingLeft: 20,\n            marginBottom: 40,\n            borderRadius: 5,\n            border: \"1px solid #dddddd\",\n            backgroundColor: \"#fcfcfc\"\n          }}\n        >\n          <Row type=\"flex\" justify=\"center\">\n            <b>Node ID:&nbsp;&nbsp;</b> {node.nodeId}\n          </Row>\n          <hr />\n          <div style={{ height: 10 }} />\n          <Row>\n            <Col span={12}>\n              <b>Type: </b>\n              {node.isLeader ? \"Leader (Main Node)\" : node.type}\n            </Col>\n            <Col span={12}>\n              <b>IP: </b>\n              {node.ip}\n            </Col>\n          </Row>\n          <Row>\n            <Col span={12}>\n              <b>State: </b>\n              {node.state}\n            </Col>\n            <Col span={12}>\n              <b>Status: </b>\n              {node.status}\n            </Col>\n          </Row>\n          <br />\n          <Row>\n            <Col span={12}>\n              <b>RAM: </b>\n              {(node.memoryBytes / 1073741824).toFixed(2)} GB\n            </Col>\n            <Col span={12}>\n              <b>OS: </b>\n              {node.operatingSystem}\n            </Col>\n          </Row>\n          <Row>\n            <Col span={12}>\n              <b>CPU: </b>\n              {(node.nanoCpu / 1000000000).toFixed(0)} cores\n            </Col>\n            <Col span={12}>\n              <b>Architecture: </b>\n              {node.architecture}\n            </Col>\n          </Row>\n          <br />\n          <Row>\n            <Col span={12}>\n              <b>Hostname: </b>\n              {node.hostname}\n            </Col>\n            <Col span={12}>\n              <b>Docker Version: </b>\n              {node.dockerEngineVersion}\n            </Col>\n          </Row>\n        </div>\n      );\n    });\n\n    // \"ip\":\"199.195.150.96\"\n    // \"nodeId\":\"i9lccwa92dfyy9kpkktw2okll\"\n\n    // ,\"type\":\"manager\"\n    // ,\"isLeader\":true,\n    // ,\"state\":\"ready\",\n    // \"status\":\"active\"\n\n    // \"hostname\":\"kasra-X550JK\"\n    // \"dockerEngineVersion\":\"18.09.1-rc1\",\n\n    // \"memoryBytes\":8241434624,\n    // operatingSystem\":\"linux\",\n    // \"nanoCpu\":8000000000,\n    // ,\"architecture\":\"x86_64\",\"\n  }\n\n  render() {\n    const self = this;\n    if (!this.state.apiData) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        {this.props.defaultRegistryId ? (\n          <AddNode\n            onAddNodeClicked={nodeToAdd => {\n              self.addNode(nodeToAdd);\n            }}\n          />\n        ) : (\n          <div>\n            <Alert\n              type=\"warning\"\n              showIcon={true}\n              message=\"Cannot add more nodes as no default push registry is set. To add more nodes and create a cluster, you first need to add a docker registry and set it as the default push registry.\"\n            />\n          </div>\n        )}\n        <div style={{ height: 50 }} />\n\n        <Divider type=\"horizontal\">\n          <h4>Current Cluster Nodes</h4>\n        </Divider>\n        <div style={{ height: 30 }} />\n\n        <Row type=\"flex\" justify=\"center\">\n          <Col span={14}>{self.createNodes()}</Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    defaultRegistryId: state.registryReducer.defaultRegistryId\n  };\n}\n\nexport default connect(mapStateToProps)(CurrentNodes);\n","import React, { Component } from \"react\";\nimport { Row, Col, Card } from \"antd\";\nimport DockerRegistries from \"./DockerRegistries\";\nimport Nodes from \"./Nodes\";\n\nexport default class Cluster extends Component {\n  render() {\n    return (\n      <div>\n        <Row type=\"flex\" justify=\"center\">\n          <Col span={20}>\n            <Card title=\"Docker Registry Configuration\">\n              <DockerRegistries />\n            </Card>\n          </Col>\n        </Row>\n        <div style={{ height: 35 }} />\n        <Row type=\"flex\" justify=\"center\">\n          <Col span={20}>\n            <Card title=\"Nodes\">\n              <Nodes />\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  componentDidMount() {}\n}\n","import React, { Component } from \"react\";\nimport { Row, Col, Card, Checkbox, Button, Icon, Tooltip } from \"antd\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport Toaster from \"../../utils/Toaster\";\nimport Search from \"antd/lib/input/Search\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\n\nexport default class CreateNewApp extends Component<\n  {\n    onCreateNewAppClicked: (appName: string, hasPersistency: boolean) => void;\n    onCreateOneClickAppClicked: () => void;\n  },\n  { appName: string; hasPersistency: boolean }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      hasPersistency: false,\n      appName: \"\"\n    };\n  }\n\n  onCreateNewAppClicked() {\n    this.props.onCreateNewAppClicked(\n      this.state.appName,\n      this.state.hasPersistency\n    );\n  }\n\n  onCreateOneClickAppClicked() {\n    this.props.onCreateOneClickAppClicked();\n  }\n\n  render() {\n    const self = this;\n\n    return (\n      <Row>\n        <Col span={10} offset={7}>\n          <Card\n            title={\n              <span>\n                <Icon type=\"plus-circle\" />\n                &nbsp;&nbsp;&nbsp;Create A New App\n              </span>\n            }\n          >\n            <Row>\n              <Search\n                placeholder=\"my-amazing-app\"\n                enterButton=\"Create New App\"\n                onChange={e => self.setState({ appName: e.target.value })}\n                onSearch={value => self.onCreateNewAppClicked()}\n              />\n            </Row>\n            <br />\n            <Row type=\"flex\" justify=\"end\">\n              <Checkbox\n                onChange={(e: any) =>\n                  self.setState({ hasPersistency: !!e.target.checked })\n                }\n              >\n                Has Persistent Data\n              </Checkbox>\n              &nbsp;&nbsp;\n              <Tooltip title=\"Mostly used for databases, see docs for details.\">\n                <a\n                  href=\"https://captainduckduck.com/docs/app-configuration.html#persistent-or-not\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <span>\n                    <Icon type=\"question-circle\" theme=\"filled\" />\n                  </span>\n                </a>\n              </Tooltip>\n            </Row>\n\n            <br />\n\n            <hr />\n\n            <br />\n            <div style={{ textAlign: \"center\" }}>\n              <p>Or Select From</p>\n              <Button onClick={() => self.onCreateOneClickAppClicked()}>\n                One-Click Apps/Databases\n              </Button>\n            </div>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  Row,\n  Col,\n  Card,\n  Checkbox,\n  Button,\n  Icon,\n  Tooltip,\n  Input,\n  Table\n} from \"antd\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport Toaster from \"../../utils/Toaster\";\nimport Search from \"antd/lib/input/Search\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\nimport { IAppDef } from \"./AppDefinition\";\nimport ClickableLink from \"../global/ClickableLink\";\nimport { History } from \"history\";\nimport { ColumnProps } from \"antd/lib/table\";\n\nexport default class AppsTable extends Component<\n  {\n    history: History;\n    apps: IAppDef[];\n    rootDomain: string;\n    defaultNginxConfig: string;\n  },\n  { searchTerm: string }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = { searchTerm: \"\" };\n  }\n\n  onAppClicked(appName: string) {\n    this.props.history.push(`/apps/details/${appName}`);\n  }\n\n  createColumns(): ColumnProps<IAppDef>[] {\n    const self = this;\n    const ALIGN: \"center\" = \"center\";\n    return [\n      {\n        title: \"App Name\",\n        dataIndex: \"appName\",\n        key: \"appName\",\n        render: (appName: string) => (\n          <ClickableLink onLinkClicked={() => self.onAppClicked(appName)}>\n            {appName}\n          </ClickableLink>\n        )\n      },\n      {\n        title: \"Persistent Data\t\",\n        dataIndex: \"hasPersistentData\",\n        key: \"hasPersistentData\",\n        align: ALIGN,\n        render: (hasPersistentData: boolean) => {\n          if (!hasPersistentData) {\n            return <span />;\n          }\n\n          return (\n            <span>\n              <Icon type=\"check\" />\n            </span>\n          );\n        }\n      },\n      {\n        title: \"Exposed Webapp\",\n        dataIndex: \"notExposeAsWebApp\",\n        key: \"notExposeAsWebApp\",\n        align: ALIGN,\n        render: (notExposeAsWebApp: boolean) => {\n          if (!!notExposeAsWebApp) {\n            return <span />;\n          }\n\n          return (\n            <span>\n              <Icon type=\"check\" />\n            </span>\n          );\n        }\n      },\n      {\n        title: \"Instance Count\",\n        dataIndex: \"instanceCount\",\n        key: \"instanceCount\",\n        align: ALIGN\n      },\n      {\n        title: \"Open in Browser\",\n        dataIndex: \"notExposeAsWebApp\",\n        key: \"openInBrowser\",\n        align: ALIGN,\n        render: (notExposeAsWebApp: boolean, app: IAppDef) => {\n          if (notExposeAsWebApp) {\n            return <span />;\n          }\n\n          return (\n            <a\n              href={\n                \"http\" +\n                (app.hasDefaultSubDomainSsl ? \"s\" : \"\") +\n                \"://\" +\n                app.appName +\n                \".\" +\n                self.props.rootDomain\n              }\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Icon type=\"link\" />{\" \"}\n            </a>\n          );\n        }\n      }\n    ];\n  }\n\n  render() {\n    const self = this;\n\n    const appsToRender = self.props.apps.filter(app => {\n      if (!self.state.searchTerm) return true;\n\n      return app.appName!.indexOf(self.state.searchTerm) >= 0;\n    });\n\n    return (\n      <Row>\n        <Col span={18} offset={3} style={{ paddingBottom: 300 }}>\n          <Card\n            extra={\n              <Input\n                placeholder=\"Search by Name\"\n                type=\"text\"\n                onChange={event =>\n                  self.setState({\n                    searchTerm: (event.target.value || \"\").trim()\n                  })\n                }\n              />\n            }\n            title={\n              <span>\n                <Icon type=\"code\" />\n                &nbsp;&nbsp;&nbsp;Your Apps\n              </span>\n            }\n          >\n            <Row>\n              <Table<IAppDef>\n                rowKey=\"appName\"\n                columns={self.createColumns()}\n                dataSource={appsToRender}\n                pagination={false}\n                size=\"middle\"\n              />\n            </Row>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Row, Col, Card } from \"antd\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport Toaster from \"../../utils/Toaster\";\nimport Search from \"antd/lib/input/Search\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\nimport CreateNewApp from \"./CreateNewApp\";\nimport AppsTable from \"./AppsTable\";\nimport { RouteComponentProps } from \"react-router\";\n\nexport default class Apps extends ApiComponent<\n  RouteComponentProps<any>,\n  { isLoading: boolean; apiData: any }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      apiData: undefined\n    };\n  }\n\n  onCreateOneClickAppClicked() {\n    this.props.history.push(`/apps/oneclick/`);\n  }\n\n  onCreateNewAppClicked(appName: string, hasPersistentData: boolean) {\n    const self = this;\n\n    Promise.resolve() //\n      .then(function() {\n        self.setState({ isLoading: true });\n        return self.apiManager.registerNewApp(appName, hasPersistentData);\n      })\n      .then(function(data) {\n        self.reFetchData();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n\n    if (self.state.isLoading) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        <CreateNewApp\n          onCreateNewAppClicked={(appName: string, hasPersistency: boolean) => {\n            self.onCreateNewAppClicked(appName, hasPersistency);\n          }}\n          onCreateOneClickAppClicked={() => {\n            self.onCreateOneClickAppClicked();\n          }}\n        />\n        <div style={{ height: 25 }} />\n        {self.state.apiData.appDefinitions.length > 0 ? (\n          <AppsTable\n            history={this.props.history}\n            defaultNginxConfig={this.state.apiData.defaultNginxConfig}\n            apps={this.state.apiData.appDefinitions}\n            rootDomain={this.state.apiData.rootDomain}\n          />\n        ) : (\n          <div />\n        )}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.reFetchData();\n  }\n\n  reFetchData() {\n    const self = this;\n    self.setState({ isLoading: true });\n    this.apiManager\n      .getAllApps()\n      .then(function(data: any) {\n        self.setState({ isLoading: false, apiData: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  message,\n  Row,\n  Button,\n  Input,\n  Col,\n  Icon,\n  Tooltip,\n  Checkbox\n} from \"antd\";\nimport Toaster from \"../../../utils/Toaster\";\nimport Utils from \"../../../utils/Utils\";\nimport { AppDetailsTabProps } from \"./AppDetails\";\n\nconst Search = Input.Search;\n\nexport default class HttpSettings extends Component<\n  AppDetailsTabProps,\n  { dummyVar: undefined }\n> {\n  constructor(props: any) {\n    super(props);\n  }\n\n  render() {\n    return <div>{this.createHttpSettingsContent()}</div>;\n  }\n\n  reFetchData() {\n    this.props.reFetchData();\n  }\n\n  enableDefaultHttps() {\n    const self = this;\n    this.props.setLoading(true);\n\n    return Promise.resolve()\n      .then(function() {\n        return self.props.apiManager.enableSslForBaseDomain(\n          self.props.apiData!.appDefinition.appName!\n        );\n      })\n      .then(function() {\n        message.success(\"HTTPS is now enabled for your app\");\n      })\n      .then(function() {\n        self.reFetchData();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  onConnectNewDomainClicked(newDomain: string) {\n    const self = this;\n    this.props.setLoading(true);\n\n    return Promise.resolve()\n      .then(function() {\n        return self.props.apiManager.attachNewCustomDomainToApp(\n          self.props.apiData!.appDefinition.appName!,\n          newDomain\n        );\n      })\n      .then(function() {\n        message.success(\"New domain is now successfully connected!\");\n      })\n      .then(function() {\n        self.reFetchData();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  onEnableCustomDomainSslClicked(customDomain: string) {\n    const self = this;\n    this.props.setLoading(true);\n\n    return Promise.resolve()\n      .then(function() {\n        return self.props.apiManager.enableSslForCustomDomain(\n          self.props.apiData!.appDefinition.appName!,\n          customDomain\n        );\n      })\n      .then(function() {\n        message.success(\"HTTPS is successfully activated for your domain!\");\n      })\n      .then(function() {\n        self.reFetchData();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  onRemoveCustomDomainClicked(customDomain: string) {\n    const self = this;\n    this.props.setLoading(true);\n\n    return Promise.resolve()\n      .then(function() {\n        return self.props.apiManager.removeCustomDomain(\n          self.props.apiData!.appDefinition.appName!,\n          customDomain\n        );\n      })\n      .then(function() {\n        message.success(\"Your custom domain is successfully removed!\");\n      })\n      .then(function() {\n        self.reFetchData();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  createCustomDomainRows() {\n    const customDomains = this.props.apiData!.appDefinition.customDomain || [];\n\n    const rows: JSX.Element[] = [];\n    customDomains.forEach(c => {\n      const row = (\n        <Row key={c.publicDomain} style={{ marginTop: 15 }}>\n          <Button.Group size=\"small\">\n            <Tooltip\n              title={\n                c.hasSsl\n                  ? \"Already activated\"\n                  : \"Click to activate HTTPS for this domain\"\n              }\n            >\n              <Button\n                disabled={c.hasSsl}\n                onClick={() => {\n                  this.onEnableCustomDomainSslClicked(c.publicDomain);\n                }}\n                type=\"primary\"\n              >\n                Enable HTTPS\n              </Button>\n            </Tooltip>\n            <Button\n              style={{ marginRight: 20 }}\n              onClick={() => {\n                this.onRemoveCustomDomainClicked(c.publicDomain);\n              }}\n            >\n              Remove\n            </Button>\n          </Button.Group>\n\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href={\"http://\" + c.publicDomain}\n          >\n            {c.publicDomain}\n          </a>\n        </Row>\n      );\n      rows.push(row);\n    });\n\n    return rows;\n  }\n\n  onEditDefaultNginxConfigClicked() {\n    const newApiData = Utils.copyObject(this.props.apiData!);\n    newApiData.appDefinition.customNginxConfig = this.props.apiData!.defaultNginxConfig;\n    this.props.updateApiData(newApiData);\n  }\n\n  createCustomNginx() {\n    const customNginxConfig = this.props.apiData!.appDefinition\n      .customNginxConfig!;\n    if (!customNginxConfig) {\n      return (\n        <div>\n          <Button\n            type=\"default\"\n            onClick={() => this.onEditDefaultNginxConfigClicked()}\n          >\n            Edit Default Nginx Configurations\n          </Button>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <p>\n          Note that templates are build using EJS template pattern. Do not\n          change the areas between &lt;&percnt; and &percnt;&gt; unless you\n          really know what you're doing! To revert to default, simply remove all\n          the content.\n        </p>\n        <Input.TextArea\n          style={{\n            fontFamily: \"monospace\"\n          }}\n          onChange={e => {\n            const newApiData = Utils.copyObject(this.props.apiData!);\n            newApiData.appDefinition.customNginxConfig = e.target.value;\n            this.props.updateApiData(newApiData);\n          }}\n          rows={17}\n          defaultValue={customNginxConfig}\n        />\n      </div>\n    );\n  }\n\n  createHttpDetailsSettingsContent() {\n    const app = this.props.apiData!.appDefinition;\n    const rootDomain = this.props.apiData!.rootDomain;\n\n    return (\n      <div>\n        <Row>\n          <p>Your app is available to public at:</p>\n          <Tooltip\n            title={\n              app.hasDefaultSubDomainSsl\n                ? \"Already activated\"\n                : \"Click to activate HTTPS for this domain\"\n            }\n          >\n            <Button\n              disabled={app.hasDefaultSubDomainSsl}\n              style={{ marginRight: 20 }}\n              onClick={() => {\n                this.enableDefaultHttps();\n              }}\n              type=\"primary\"\n              size=\"small\"\n            >\n              Enable HTTPS\n            </Button>\n          </Tooltip>\n          <a\n            href={\n              \"http\" +\n              (app.hasDefaultSubDomainSsl ? \"s\" : \"\") +\n              \"://\" +\n              app.appName +\n              \".\" +\n              rootDomain\n            }\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {\"http\" +\n              (app.hasDefaultSubDomainSsl ? \"s\" : \"\") +\n              \"://\" +\n              app.appName +\n              \".\" +\n              rootDomain}\n          </a>\n        </Row>\n        <br />\n        <hr />\n        <br />\n        <Row>\n          <Col span={15}>\n            <Search\n              placeholder=\"www.the-best-app-in-the-world.com\"\n              enterButton=\"Connect New Domain\"\n              onSearch={value => this.onConnectNewDomainClicked(value)}\n            />\n          </Col>\n          &nbsp;&nbsp;&nbsp;\n          <Tooltip title=\"Make sure the new domain points to this IP, otherwise verification will fail.\">\n            <span>\n              <Icon style={{ marginTop: 9 }} type=\"info-circle\" />\n            </span>\n          </Tooltip>\n        </Row>\n\n        <br />\n        {this.createCustomDomainRows()}\n        <br />\n        <br />\n        {this.createCustomNginx()}\n        <br />\n        <br />\n\n        <Row>\n          <Checkbox\n            onChange={(e: any) => {\n              const newApiData = Utils.copyObject(this.props.apiData!);\n              newApiData.appDefinition.forceSsl = !!e.target.checked;\n              this.props.updateApiData(newApiData);\n            }}\n          >\n            Enforce HTTPS by redirecting all HTTP traffic to HTTPS\n          </Checkbox>\n          <Tooltip title=\"Forcing HTTPS causes domains without HTTPS to malfunction. Make sure you enable HTTPS for the domain you want to use, before enabling Force HTTPS option.\">\n            <Icon type=\"info-circle\" />\n          </Tooltip>\n        </Row>\n      </div>\n    );\n  }\n\n  createHttpSettingsContent() {\n    const app = this.props.apiData!.appDefinition;\n    return (\n      <div>\n        <p>\n          Your app is internally available as{\" \"}\n          <code>srv-captain--{app.appName}</code> to other Captain apps. In case\n          of web-app, it is accessible via{\" \"}\n          <code>{\"http://srv-captain--\" + app.appName}</code> from other apps.\n        </p>\n        <br />\n\n        <Checkbox\n          defaultChecked={this.props.apiData!.appDefinition.notExposeAsWebApp}\n          onChange={(e: any) => {\n            const newApiData = Utils.copyObject(this.props.apiData!);\n            newApiData.appDefinition.notExposeAsWebApp = !!e.target.checked;\n            this.props.updateApiData(newApiData);\n          }}\n        >\n          Do not expose as web-app\n        </Checkbox>\n        <Tooltip title=\"Use this if you don't want your app be externally available.\">\n          <Icon type=\"info-circle\" />\n        </Tooltip>\n\n        <div style={{ height: 35 }} />\n        {app.notExposeAsWebApp ? (\n          <div />\n        ) : (\n          this.createHttpDetailsSettingsContent()\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  message,\n  Row,\n  Button,\n  Input,\n  Col,\n  Icon,\n  Tooltip,\n  Checkbox,\n  Switch\n} from \"antd\";\nimport Toaster from \"../../../utils/Toaster\";\nimport Utils from \"../../../utils/Utils\";\nimport { AppDetailsTabProps } from \"./AppDetails\";\nimport ClickableLink from \"../../global/ClickableLink\";\nimport { IAppEnvVar } from \"../AppDefinition\";\nimport { IHashMapGeneric } from \"../../../models/IHashMapGeneric\";\n\nconst Search = Input.Search;\n\nexport default class AppConfigs extends Component<\n  AppDetailsTabProps,\n  {\n    dummyVar: undefined;\n    envVarBulkEdit: boolean;\n    bulkVals: string;\n    forceEditableNodeId: boolean;\n    forceEditableInstanceCount: boolean;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      dummyVar: undefined,\n      forceEditableInstanceCount: false,\n      envVarBulkEdit: false,\n      bulkVals: \"\",\n      forceEditableNodeId: false\n    };\n  }\n\n  // Copied from https://github.com/motdotla/dotenv/blob/master/lib/main.js\n  parseEnvVars(src: string) {\n    const obj: IHashMapGeneric<string> = {};\n\n    // convert Buffers before splitting into lines and processing\n    src\n      .toString()\n      .split(\"\\n\")\n      .forEach(function(line, idx) {\n        // matching \"KEY' and 'VAL' in 'KEY=VAL'\n        const keyValueArr = line.match(/^\\s*([\\w.-]+)\\s*=\\s*(.*)?\\s*$/);\n        // matched?\n        if (keyValueArr != null) {\n          const key = keyValueArr[1];\n\n          // default undefined or missing values to empty string\n          let value = keyValueArr[2] || \"\";\n\n          // expand newlines in quoted values\n          const len = value ? value.length : 0;\n          if (\n            len > 0 &&\n            value.charAt(0) === '\"' &&\n            value.charAt(len - 1) === '\"'\n          ) {\n            value = value.replace(/\\\\n/gm, \"\\n\");\n          }\n\n          // remove any surrounding quotes and extra spaces\n          value = value.replace(/(^['\"]|['\"]$)/g, \"\").trim();\n\n          obj[key] = value;\n        }\n      });\n\n    return obj;\n  }\n\n  convertEnvVarsToBulk(envVars: IAppEnvVar[]) {\n    return envVars\n      .map(e => {\n        let val = e.value;\n        if (val.indexOf(\"\\n\") >= 0) {\n          val = '\"' + val.split(\"\\n\").join(\"\\\\n\") + '\"';\n        }\n        return e.key + \"=\" + val;\n      })\n      .join(\"\\n\");\n  }\n\n  createEnvVarSection() {\n    const self = this;\n    const envVars = this.props.apiData.appDefinition.envVars || [];\n\n    if (self.state.envVarBulkEdit) {\n      return (\n        <div>\n          <Row style={{ paddingBottom: 12 }}>\n            <Col span={24}>\n              <Input.TextArea\n                className=\"code-input\"\n                placeholder={\"key1=value1\\nkey2=value2\"}\n                rows={7}\n                value={\n                  self.state.bulkVals\n                    ? self.state.bulkVals\n                    : self.convertEnvVarsToBulk(envVars)\n                }\n                onChange={e => {\n                  const newApiData = Utils.copyObject(self.props.apiData);\n                  const keyVals = self.parseEnvVars(e.target.value);\n                  const envVars: IAppEnvVar[] = [];\n                  Object.keys(keyVals).forEach(k => {\n                    envVars.push({ key: k, value: keyVals[k] });\n                  });\n                  newApiData.appDefinition.envVars = envVars;\n                  self.props.updateApiData(newApiData);\n                  self.setState({ bulkVals: e.target.value });\n                }}\n              />\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n\n    const rows = envVars.map((value, index) => {\n      return (\n        <Row style={{ paddingBottom: 12 }} key={\"\" + index}>\n          <Col span={8}>\n            <Input\n              className=\"code-input\"\n              placeholder=\"key\"\n              value={value.key}\n              type=\"text\"\n              onChange={e => {\n                const newApiData = Utils.copyObject(self.props.apiData);\n                newApiData.appDefinition.envVars[index].key = e.target.value;\n                self.props.updateApiData(newApiData);\n              }}\n            />\n          </Col>\n          <Col style={{ paddingLeft: 12 }} span={16}>\n            <Input.TextArea\n              className=\"code-input\"\n              placeholder=\"value\"\n              rows={1}\n              value={value.value}\n              onChange={e => {\n                const newApiData = Utils.copyObject(self.props.apiData);\n                newApiData.appDefinition.envVars[index].value = e.target.value;\n                self.props.updateApiData(newApiData);\n              }}\n            />\n          </Col>\n        </Row>\n      );\n    });\n\n    return (\n      <div>\n        {rows}\n\n        <br />\n\n        <Button type=\"default\" onClick={() => self.addEnvVarClicked()}>\n          Add Key/Value Pair\n        </Button>\n      </div>\n    );\n  }\n\n  createPortRows() {\n    const self = this;\n    const ports = this.props.apiData.appDefinition.ports || [];\n    return ports.map((value, index) => {\n      return (\n        <Row style={{ paddingBottom: 12 }} key={\"\" + index}>\n          <Col span={12}>\n            <Tooltip title=\"Make sure the port is not already used!\">\n              <Input\n                addonBefore=\"Server Port\"\n                placeholder=\"5050\"\n                value={value.hostPort ? value.hostPort + \"\" : \"\"}\n                type=\"number\"\n                onChange={e => {\n                  const newApiData = Utils.copyObject(self.props.apiData);\n                  const p = Number(e.target.value.trim());\n                  newApiData.appDefinition.ports[index].hostPort =\n                    p > 0 ? p : 0; // to avoid NaN\n                  self.props.updateApiData(newApiData);\n                }}\n              />\n            </Tooltip>\n          </Col>\n          <Col style={{ paddingLeft: 12 }} span={12}>\n            <Input\n              addonBefore=\"Container Port\"\n              placeholder=\"6060\"\n              value={value.containerPort ? value.containerPort + \"\" : \"\"}\n              onChange={e => {\n                const newApiData = Utils.copyObject(self.props.apiData);\n                const p = Number(e.target.value.trim());\n                newApiData.appDefinition.ports[index].containerPort =\n                  p > 0 ? p : 0; // to avoid NaN\n                self.props.updateApiData(newApiData);\n              }}\n            />\n          </Col>\n        </Row>\n      );\n    });\n  }\n\n  createVolRows() {\n    const self = this;\n    const volumes = this.props.apiData.appDefinition.volumes || [];\n    return volumes.map((value, index) => {\n      return (\n        <Row style={{ paddingBottom: 12 }} key={\"\" + index}>\n          <Col span={8}>\n            <Input\n              addonBefore=\"Path in App\"\n              className=\"code-input\"\n              placeholder=\"/var/www/html\"\n              value={value.containerPath}\n              type=\"text\"\n              onChange={e => {\n                const newApiData = Utils.copyObject(self.props.apiData);\n                newApiData.appDefinition.volumes[index].containerPath =\n                  e.target.value;\n                self.props.updateApiData(newApiData);\n              }}\n            />\n          </Col>\n          <Col\n            style={{ paddingLeft: 12 }}\n            span={8}\n            className={value.hostPath ? \"hide-on-demand\" : \"\"}\n          >\n            <Input\n              addonBefore=\"Label\"\n              className=\"code-input\"\n              placeholder=\"some-name\"\n              value={value.volumeName}\n              onChange={e => {\n                const newApiData = Utils.copyObject(self.props.apiData);\n                newApiData.appDefinition.volumes[index].volumeName =\n                  e.target.value;\n                self.props.updateApiData(newApiData);\n              }}\n            />\n          </Col>\n\n          <Col\n            style={{ paddingLeft: 12 }}\n            span={8}\n            className={!value.hostPath ? \"hide-on-demand\" : \"\"}\n          >\n            <Tooltip title=\"IMPORTANT: Ensure Host Path exists before assigning it here\">\n              <Input\n                addonBefore=\"Path on Host\"\n                className=\"code-input\"\n                placeholder=\"/host/path/exists\"\n                value={value.hostPath}\n                onChange={e => {\n                  const newApiData = Utils.copyObject(self.props.apiData);\n                  newApiData.appDefinition.volumes[index].hostPath =\n                    e.target.value;\n                  self.props.updateApiData(newApiData);\n                }}\n              />\n            </Tooltip>\n          </Col>\n          <Col style={{ paddingLeft: 12 }} span={8}>\n            <Button\n              type=\"dashed\"\n              onClick={() => {\n                const newApiData = Utils.copyObject(self.props.apiData);\n                newApiData.appDefinition.volumes[index].hostPath = newApiData\n                  .appDefinition.volumes[index].hostPath\n                  ? \"\"\n                  : \"/\";\n                self.props.updateApiData(newApiData);\n              }}\n            >\n              {value.hostPath\n                ? \"Let Captain manage path\"\n                : \"Set specific host path\"}\n            </Button>\n          </Col>\n        </Row>\n      );\n    });\n  }\n\n  createVolSection() {\n    const self = this;\n    const app = this.props.apiData!.appDefinition;\n\n    if (!app.hasPersistentData) return <div />;\n\n    return (\n      <div>\n        <h4>\n          Persistent Directories &nbsp;\n          <a\n            href=\"https://captainduckduck.com/docs/app-configuration.html#persistent-or-not\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <Icon type=\"info-circle\" />\n          </a>\n        </h4>\n        <div\n          className={\n            app.volumes && !!app.volumes.length ? \"hide-on-demand\" : \"\"\n          }\n        >\n          <i>Currently, this app does not have any persistent directories.</i>\n        </div>\n\n        {this.createVolRows()}\n        <br />\n        <Button type=\"default\" onClick={() => this.addVolumeClicked()}>\n          Add Persistent Directory\n        </Button>\n        <br />\n        <br />\n        <br />\n\n        <Row>\n          <Col span={6} style={{ width: 300 }}>\n            <Tooltip title=\"Leave empty for automatic placement\">\n              <Input\n                addonBefore=\"Node ID\"\n                className=\"code-input\"\n                value={app.nodeId ? app.nodeId : \"\"}\n                disabled={!this.state.forceEditableNodeId}\n                onChange={e => {\n                  const newApiData = Utils.copyObject(self.props.apiData);\n                  newApiData.appDefinition.nodeId = e.target.value;\n                  self.props.updateApiData(newApiData);\n                }}\n              />\n            </Tooltip>\n          </Col>\n          <Col span={12} style={{ paddingLeft: 24 }}>\n            <Tooltip title=\"WARNING: Changing Node ID causes the content of your persistent directories to be deleted!\">\n              <Button\n                type=\"default\"\n                disabled={this.state.forceEditableNodeId}\n                onClick={() => this.setState({ forceEditableNodeId: true })}\n              >\n                Edit\n              </Button>\n            </Tooltip>\n          </Col>\n        </Row>\n\n        <br />\n        <br />\n      </div>\n    );\n  }\n\n  render() {\n    const self = this;\n    const app = this.props.apiData!.appDefinition;\n    return (\n      <div>\n        <h4>Environmental Variables:</h4>\n        <Row align=\"middle\" justify=\"end\" type=\"flex\">\n          <h5>\n            Bulk Edit&nbsp;{\" \"}\n            <Switch\n              onChange={val => {\n                self.setState({ envVarBulkEdit: val, bulkVals: \"\" });\n              }}\n            />\n          </h5>\n        </Row>\n        <div\n          className={\n            app.envVars && !!app.envVars.length ? \"hide-on-demand\" : \"\"\n          }\n        >\n          <i>\n            Currently, this app does not have any custom environmental variables\n            yet.\n          </i>\n        </div>\n\n        {this.createEnvVarSection()}\n\n        <br />\n        <br />\n        <br />\n\n        <h4>\n          Port Mapping &nbsp;\n          <a\n            href=\"https://captainduckduck.com/docs/app-configuration.html#port-mapping\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <Icon type=\"info-circle\" />\n          </a>\n        </h4>\n        <div\n          className={app.ports && !!app.ports.length ? \"hide-on-demand\" : \"\"}\n        >\n          <i>Currently, this app does not have any custom port mapping.</i>\n        </div>\n\n        {this.createPortRows()}\n\n        <br />\n\n        <Button type=\"default\" onClick={() => this.addPortMappingClicked()}>\n          Add Port Mapping\n        </Button>\n        <br />\n        <br />\n        <br />\n        {this.createVolSection()}\n        <br />\n        <Row>\n          <Col span={6} style={{ width: 300 }}>\n            <Tooltip title=\"Number of running instances of this app\">\n              <Input\n                addonBefore=\"Instance Count\"\n                type=\"number\"\n                defaultValue={app.instanceCount + \"\"}\n                disabled={\n                  app.hasPersistentData &&\n                  !this.state.forceEditableInstanceCount\n                }\n                onChange={e => {\n                  const newApiData = Utils.copyObject(this.props.apiData);\n                  newApiData.appDefinition.instanceCount = Number(\n                    e.target.value\n                  );\n                  this.props.updateApiData(newApiData);\n                }}\n              />\n            </Tooltip>\n          </Col>\n          <Col span={6}>\n            <div\n              style={{ paddingLeft: 24 }}\n              className={!app.hasPersistentData ? \"hide-on-demand\" : \"\"}\n            >\n              <Tooltip title=\"Multiple instances of apps with persistent data can be very dangerous and bug prone as they can be accessing the same file on the disk resulting in data corruption. Edit the instance count only if you understand the risk.\">\n                <Button\n                  type=\"default\"\n                  disabled={this.state.forceEditableInstanceCount}\n                  onClick={() =>\n                    this.setState({ forceEditableInstanceCount: true })\n                  }\n                >\n                  Edit\n                </Button>\n              </Tooltip>\n            </div>\n          </Col>\n        </Row>\n\n        <Row>\n          <br />\n          <br />\n          <br />\n          <h4>\n            Pre-Deploy Script\n            <a\n              style={{ paddingLeft: 10 }}\n              href=\"https://captainduckduck.com/docs/pre-deploy-script.html\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Icon type=\"info-circle\" />\n            </a>\n          </h4>\n\n          <Input.TextArea\n            spellCheck={false}\n            autoCorrect=\"off\"\n            autoComplete=\"off\"\n            autoCapitalize=\"off\"\n            className=\"code-input\"\n            placeholder=\"var preDeployFunction = function (captainAppObj, dockerUpdateObject) ...\"\n            rows={4}\n            value={app.preDeployFunction ? app.preDeployFunction : \"\"}\n            onChange={e => {\n              const newApiData = Utils.copyObject(this.props.apiData);\n              newApiData.appDefinition.preDeployFunction = e.target.value;\n              this.props.updateApiData(newApiData);\n            }}\n          />\n        </Row>\n      </div>\n    );\n  }\n\n  addPortMappingClicked() {\n    const newApiData = Utils.copyObject(this.props.apiData);\n    newApiData.appDefinition.ports = newApiData.appDefinition.ports || [];\n    newApiData.appDefinition.ports.push({\n      containerPort: 0,\n      hostPort: 0\n    });\n    this.props.updateApiData(newApiData);\n  }\n\n  addEnvVarClicked() {\n    const newApiData = Utils.copyObject(this.props.apiData);\n    newApiData.appDefinition.envVars = newApiData.appDefinition.envVars || [];\n    newApiData.appDefinition.envVars.push({\n      key: \"\",\n      value: \"\"\n    });\n    this.props.updateApiData(newApiData);\n  }\n\n  addVolumeClicked() {\n    const newApiData = Utils.copyObject(this.props.apiData);\n    newApiData.appDefinition.volumes = newApiData.appDefinition.volumes || [];\n    newApiData.appDefinition.volumes.push({\n      containerPath: \"\",\n      volumeName: \"\"\n    });\n    this.props.updateApiData(newApiData);\n  }\n\n  reFetchData() {\n    this.props.reFetchData();\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../../../global/ApiComponent\";\nimport Toaster from \"../../../../utils/Toaster\";\nimport ClickableLink from \"../../../global/ClickableLink\";\nimport { Input, Icon, Alert, Row, Spin } from \"antd\";\nimport Utils from \"../../../../utils/Utils\";\n\nexport default class BuildLogsView extends ApiComponent<\n  {\n    appName: string;\n    onAppBuildFinished: () => void;\n    buildLogRecreationId: string;\n  },\n  {\n    isAppBuilding: boolean;\n    expandedLogs: boolean;\n    buildLogs: string;\n    lastLineNumberPrinted: number;\n  }\n> {\n  private fetchBuildLogsInterval: any;\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      isAppBuilding: false,\n      expandedLogs: !!this.props.buildLogRecreationId,\n      buildLogs: \"\",\n      lastLineNumberPrinted: -10000\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.fetchBuildLogsInterval) {\n      clearInterval(this.fetchBuildLogsInterval);\n    }\n  }\n\n  fetchBuildLogs() {\n    const self = this;\n    this.apiManager\n      .fetchBuildLogs(this.props.appName)\n      .then(function(logInfo) {\n        if (self.state.isAppBuilding && !logInfo.isAppBuilding) {\n          // App was building but not anymore\n          self.props.onAppBuildFinished();\n        }\n\n        self.setState({ isAppBuilding: logInfo.isAppBuilding });\n        if (logInfo.isAppBuilding) {\n          // forcefully expanding the view such that when building finishes it doesn't collapses automatically\n          self.setState({ expandedLogs: true });\n        }\n\n        let lines = logInfo.logs.lines as string[];\n        let firstLineNumberOfLogs = logInfo.logs.firstLineNumber;\n        let firstLinesToPrint = 0;\n        if (firstLineNumberOfLogs > self.state.lastLineNumberPrinted) {\n          if (firstLineNumberOfLogs < 0) {\n            // This is the very first fetch, probably firstLineNumberOfLogs is around -50\n            firstLinesToPrint = -firstLineNumberOfLogs;\n          } else {\n            self.setState({\n              buildLogs: self.state.buildLogs + \"[[ TRUNCATED ]]\\n\"\n            });\n          }\n        } else {\n          firstLinesToPrint =\n            self.state.lastLineNumberPrinted - firstLineNumberOfLogs;\n        }\n\n        self.setState({\n          lastLineNumberPrinted: firstLineNumberOfLogs + lines.length\n        });\n\n        let lineAdded = false;\n\n        let buildLogs = self.state.buildLogs;\n        const ansiRegex = Utils.getAnsiColorRegex();\n        for (let i = firstLinesToPrint; i < lines.length; i++) {\n          const newLine = (lines[i] || \"\").trim().replace(ansiRegex, \"\");\n          buildLogs += newLine + \"\\n\";\n\n          lineAdded = true;\n        }\n        self.setState({ buildLogs: buildLogs });\n\n        if (lineAdded) {\n          setTimeout(function() {\n            let textarea = document.getElementById(\"buildlog-text-id\");\n            if (textarea) textarea.scrollTop = textarea.scrollHeight;\n          }, 100);\n        }\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  componentDidMount() {\n    const self = this;\n    this.fetchBuildLogs();\n    this.fetchBuildLogsInterval = setInterval(function() {\n      self.fetchBuildLogs();\n    }, 2000);\n  }\n\n  onExpandLogClicked() {\n    this.setState({ expandedLogs: !this.state.expandedLogs });\n  }\n\n  render() {\n    const self = this;\n    return (\n      <div>\n        <Row>\n          <div className={this.state.isAppBuilding ? \"\" : \"hide-on-demand\"}>\n            <Alert\n              message={\n                <span>\n                  &nbsp;&nbsp;\n                  <Spin\n                    indicator={\n                      <Icon type=\"loading\" style={{ fontSize: 24 }} spin />\n                    }\n                    size=\"default\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Building the image. This\n                  might take a few minutes...\n                </span>\n              }\n              type=\"info\"\n            />\n          </div>\n        </Row>\n\n        <div style={{ height: 20 }} />\n\n        <div>\n          <div>\n            <ClickableLink\n              onLinkClicked={() => {\n                self.onExpandLogClicked();\n              }}\n            >\n              <h4 className=\"unselectable-span\">\n                <Icon\n                  type={!this.state.expandedLogs ? \"down-circle\" : \"up-circle\"}\n                />\n                &nbsp;&nbsp;\n                {!this.state.expandedLogs ? \"View\" : \"Hide\"} Build Logs\n              </h4>\n            </ClickableLink>\n          </div>\n\n          <div\n            className={\n              this.state.isAppBuilding || this.state.expandedLogs\n                ? \"\"\n                : \"hide-on-demand\"\n            }\n            style={{ padding: 5 }}\n          >\n            <div\n              id=\"buildlog-text-id\"\n              style={{\n                overflow: \"scroll\",\n                height: 250,\n                border: \"2px solid #cccccc\",\n                backgroundColor: \"#f6f6f6\",\n                borderRadius: 5,\n                padding: 10,\n                fontSize: \"90%\"\n              }}\n            >\n              <pre>{self.state.buildLogs}</pre>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../../../global/ApiComponent\";\nimport { Upload, Col, Row, Icon, message, Button } from \"antd\";\nimport { UploadFile, UploadChangeParam } from \"antd/lib/upload/interface\";\nimport Toaster from \"../../../../utils/Toaster\";\n\nexport default class TarUploader extends ApiComponent<\n  {\n    appName: string;\n    onUploadSucceeded: () => void;\n  },\n  {\n    fileToBeUploaded: UploadFile | undefined;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      fileToBeUploaded: undefined\n    };\n  }\n\n  beforeUpload = (file: File) => {\n    // We handle upload manually :)\n    return false;\n  };\n\n  handleChange = (info: UploadChangeParam) => {\n    if (info.fileList.length > 1) {\n      message.error(\n        \"You can only upload one TAR file! Remove the currently selected file first.\"\n      );\n      return;\n    }\n\n    if (info.fileList.length === 0) {\n      this.setState({ fileToBeUploaded: undefined });\n      message.info(\"File removed\");\n      return;\n    }\n\n    let file = info.fileList[0];\n\n    if (file.name.indexOf(\".tar\") < 0) {\n      message.error(\"You can only upload a TAR file!\");\n      return;\n    }\n\n    this.setState({ fileToBeUploaded: file });\n  };\n\n  startUploadAndDeploy() {\n    const self = this;\n\n    Promise.resolve()\n      .then(function() {\n        return self.apiManager.uploadAppData(\n          self.props.appName,\n          self.state.fileToBeUploaded!.originFileObj!\n        );\n      })\n      .then(function() {\n        self.props.onUploadSucceeded();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    return (\n      <div>\n        <Row type=\"flex\" justify=\"center\">\n          <Col span={12}>\n            <Upload.Dragger\n              name=\"files\"\n              accept=\"*/*\"\n              multiple={false}\n              fileList={\n                this.state.fileToBeUploaded\n                  ? [this.state.fileToBeUploaded]\n                  : undefined\n              }\n              listType=\"text\"\n              onChange={this.handleChange}\n              beforeUpload={this.beforeUpload}\n              action=\"//\" // this is unused as beforeUpload always returns false\n            >\n              <p className=\"ant-upload-drag-icon\">\n                <Icon type=\"inbox\" />\n              </p>\n              <p className=\"ant-upload-text\">\n                Click or drag TAR file to this area to upload\n              </p>\n              <p className=\"ant-upload-hint\">\n                Must contain <code>captain-definition</code> file.\n              </p>\n            </Upload.Dragger>\n          </Col>\n        </Row>\n\n        <Row type=\"flex\" justify=\"center\">\n          <Button\n            style={{ marginTop: 40 }}\n            disabled={!this.state.fileToBeUploaded}\n            onClick={() => this.startUploadAndDeploy()}\n            type=\"primary\"\n            size=\"large\"\n          >\n            Upload &amp; Deploy\n          </Button>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Row, Col, Form, Input } from \"antd\";\nimport { RepoInfo } from \"../../AppDefinition\";\nimport Utils from \"../../../../utils/Utils\";\n\nexport default class GitRepoForm extends Component<{\n  gitRepoValues: RepoInfo;\n  updateRepoInfo: (newRepoInfo: RepoInfo) => void;\n}> {\n  render() {\n    return (\n      <div>\n        <form action=\"/\" autoComplete=\"off\">\n          <Row gutter={20}>\n            <Col span={12}>\n              <Input\n                style={{ marginBottom: 20 }}\n                value={this.props.gitRepoValues.repo}\n                addonBefore=\"Repository\"\n                placeholder=\"github.com/someone/something\"\n                type=\"url\"\n                spellCheck={false}\n                autoCorrect=\"off\"\n                autoComplete=\"off\"\n                autoCapitalize=\"off\"\n                onChange={e => {\n                  const newObj = Utils.copyObject(this.props.gitRepoValues);\n                  newObj.repo = e.target.value;\n                  this.props.updateRepoInfo(newObj);\n                }}\n              />\n            </Col>\n            <Col span={12}>\n              <Input\n                style={{ marginBottom: 20 }}\n                value={this.props.gitRepoValues.branch}\n                addonBefore={<span>Branch&nbsp;&nbsp;&nbsp;&nbsp;</span>}\n                placeholder=\"master\"\n                type=\"text\"\n                spellCheck={false}\n                autoCorrect=\"off\"\n                autoComplete=\"off\"\n                autoCapitalize=\"off\"\n                onChange={e => {\n                  const newObj = Utils.copyObject(this.props.gitRepoValues);\n                  newObj.branch = e.target.value;\n                  this.props.updateRepoInfo(newObj);\n                }}\n              />\n            </Col>\n            <Col span={12}>\n              <Input\n                style={{ marginBottom: 20 }}\n                value={this.props.gitRepoValues.user}\n                addonBefore={<span>Username&nbsp;</span>}\n                placeholder=\"myemail@gmail.com\"\n                type=\"email\"\n                onChange={e => {\n                  const newObj = Utils.copyObject(this.props.gitRepoValues);\n                  newObj.user = e.target.value;\n                  this.props.updateRepoInfo(newObj);\n                }}\n              />\n            </Col>\n            <Col span={12}>\n              <Input\n                style={{ marginBottom: 20 }}\n                value={this.props.gitRepoValues.password}\n                addonBefore=\"Password\"\n                placeholder=\"githubpassword\"\n                spellCheck={false}\n                autoCorrect=\"off\"\n                autoComplete=\"off\"\n                autoCapitalize=\"off\"\n                type=\"text\"\n                onChange={e => {\n                  const newObj = Utils.copyObject(this.props.gitRepoValues);\n                  newObj.password = e.target.value;\n                  this.props.updateRepoInfo(newObj);\n                }}\n              />\n            </Col>\n          </Row>\n        </form>\n      </div>\n    );\n  }\n}\n","function scrollToFixedFromTop(fromTopPx: number, el: HTMLElement) {\n  window.scrollTo(0, fromTopPx);\n  el.scrollTo({\n    top: fromTopPx,\n    behavior: \"smooth\"\n  });\n}\n\nexport default {\n  scrollToTopBar(delay?: number) {\n    const el = document.getElementById(\"main-content-layout\");\n    const currScroll = el ? el.scrollTop : 0;\n    if (currScroll <= 120) return;\n\n    if (!delay) {\n      scrollToFixedFromTop(0, el!);\n      return;\n    }\n\n    setTimeout(() => {\n      scrollToFixedFromTop(0, el!);\n    }, delay);\n  },\n  scrollToThebottom(delay: number) {\n    if (!delay) {\n      window.scrollTo(0, document.body.scrollHeight);\n      return;\n    }\n\n    setTimeout(() => {\n      window.scrollTo(0, document.body.scrollHeight);\n    }, delay);\n  }\n};\n","import UploaderPlainTextBase from \"./UploaderPlainTextBase\";\n\nexport default class UploaderPlainTextCaptainDefinition extends UploaderPlainTextBase {\n  protected getPlaceHolderValue() {\n    return `{\n    \"schemaVersion\" :2 ,\n    \"imageName\" : \"mysql:5.7\n}`;\n  }\n\n  protected convertDataToCaptainDefinition(userEnteredValue: string) {\n    return userEnteredValue.trim();\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../../../global/ApiComponent\";\nimport { Row, Input, Button, message } from \"antd\";\nimport Toaster from \"../../../../utils/Toaster\";\n\nexport default abstract class UploaderPlainTextBase extends ApiComponent<\n  {\n    appName: string;\n    onUploadSucceeded: () => void;\n  },\n  {\n    userEnteredValue: string;\n    uploadInProcess: boolean;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      userEnteredValue: \"\",\n      uploadInProcess: false\n    };\n  }\n\n  protected abstract getPlaceHolderValue(): string;\n\n  protected abstract convertDataToCaptainDefinition(\n    userEnteredValue: string\n  ): string;\n\n  startDeploy(captainDefinitionToBeUploaded: string) {\n    const self = this;\n\n    Promise.resolve() //\n      .then(function() {\n        self.setState({ uploadInProcess: true });\n        return self.apiManager.uploadCaptainDefinitionContent(\n          self.props.appName,\n          JSON.parse(captainDefinitionToBeUploaded),\n          '',\n          true\n        );\n      })\n      .then(function() {\n        self.setState({ userEnteredValue: \"\" });\n        self.props.onUploadSucceeded();\n      })\n      .catch(Toaster.createCatcher())\n      .then(function() {\n        self.setState({ uploadInProcess: false });\n      });\n  }\n\n  render() {\n    const self = this;\n    return (\n      <div style={{ padding: 16 }}>\n        <Row>\n          <Input.TextArea\n            className=\"code-input\"\n            placeholder={self.getPlaceHolderValue()}\n            rows={7}\n            value={self.state.userEnteredValue}\n            onChange={e => {\n              self.setState({\n                userEnteredValue: e.target.value\n              });\n            }}\n          />\n        </Row>\n        <div style={{ height: 20 }} />\n        <Row type=\"flex\" justify=\"end\">\n          <Button\n            disabled={\n              self.state.uploadInProcess || !self.state.userEnteredValue.trim()\n            }\n            type=\"primary\"\n            onClick={() =>\n              self.startDeploy(\n                self.convertDataToCaptainDefinition(self.state.userEnteredValue)\n              )\n            }\n          >\n            Deploy Now\n          </Button>\n        </Row>\n      </div>\n    );\n  }\n}\n","import UploaderPlainTextCaptainDefinition from \"./UploaderPlainTextCaptainDefinition\";\nimport { ICaptainDefinition } from \"../../../../models/ICaptainDefinition\";\n\nexport default class UploaderPlainTextDockerfile extends UploaderPlainTextCaptainDefinition {\n  protected getPlaceHolderValue() {\n    return `# Derived from official mysql image (our base image)\nFROM mysql:5.7\n# Add a database\nENV MYSQL_DATABASE company`;\n  }\n\n  protected convertDataToCaptainDefinition(userEnteredValue: string) {\n    const capDefinition: ICaptainDefinition = {\n      schemaVersion: 2,\n      dockerfileLines: userEnteredValue.trim().split(\"\\n\")\n    };\n\n    return JSON.stringify(capDefinition);\n  }\n}\n","import React, { Component } from \"react\";\nimport { IAppVersion } from \"../../AppDefinition\";\nimport { Table, Icon, Tooltip, Modal } from \"antd\";\nimport { ColumnProps } from \"antd/lib/table\";\nimport ClickableLink from \"../../../global/ClickableLink\";\nimport moment from \"moment\";\nimport Utils from \"../../../../utils/Utils\";\n\nexport default class AppVersionTable extends Component<{\n  versions: IAppVersion[];\n  deployedVersion: number;\n  onVersionRollbackRequested: (versionToRevert: IAppVersion) => void;\n}> {\n  getCols() {\n    const self = this;\n    const columns: ColumnProps<IAppVersion>[] = [\n      {\n        title: \"State\",\n        key: \"revertColumn\", // arbitrary unique name for the column\n        align: \"center\",\n        dataIndex: \"version\" as \"version\",\n        render: (version: number, versionDetails: IAppVersion) => {\n          if (version === self.props.deployedVersion) {\n            return (\n              <Tooltip title=\"Current Version\">\n                <Icon\n                  type=\"check-circle\"\n                  theme=\"twoTone\"\n                  twoToneColor=\"#52c41a\"\n                />\n              </Tooltip>\n            );\n          }\n\n          const imageName = versionDetails.deployedImageName;\n\n          if (!imageName) {\n            return (\n              <Tooltip title=\"Failed deploy\">\n                <Icon type=\"exclamation-circle\" />\n              </Tooltip>\n            );\n          }\n\n          return (\n            <ClickableLink\n              onLinkClicked={() => self.onRollbackClicked(versionDetails)}\n            >\n              <Tooltip title=\"Revert to this version\">\n                <span>\n                  <Icon type=\"retweet\" />\n                </span>\n              </Tooltip>\n            </ClickableLink>\n          );\n        }\n      },\n      {\n        title: \"Version\",\n        align: \"center\",\n        dataIndex: \"version\" as \"version\"\n      },\n      {\n        title: \"Deploy Time\",\n        dataIndex: \"timeStamp\" as \"timeStamp\",\n        render: (timeStamp: string) => {\n          return (\n            <Tooltip title={moment(new Date(timeStamp)).fromNow()}>\n              <span>{new Date(timeStamp).toLocaleString()}</span>\n            </Tooltip>\n          );\n        }\n      },\n      {\n        title: \"Image Name\",\n        dataIndex: \"deployedImageName\" as \"deployedImageName\"\n      },\n      {\n        title: \"git hash\",\n        dataIndex: \"gitHash\" as \"gitHash\",\n        render: (gitHashOriginal: string, versionDetails: IAppVersion) => {\n          let gitHash = gitHashOriginal || \"\";\n          if (gitHash.length > 12) {\n            gitHash = gitHash.substr(0, 10) + \"...\";\n          }\n          return (\n            <Tooltip title={gitHashOriginal}>\n              <div className=\"code-input\">{gitHash || \"n/a\"}</div>\n            </Tooltip>\n          );\n        }\n      }\n    ];\n    return columns;\n  }\n\n  onRollbackClicked(versionToRevert: IAppVersion) {\n    const self = this;\n    const imageName = versionToRevert.deployedImageName!;\n    let content = (\n      <span>\n        {`If you had previously deleted this image explicitly through disk cleanup, \n      this revert process will fail.`}\n        <br />\n        <br />\n        {`Do you want to continue with rolling back your app to `}\n        <code>{imageName}</code>?\n      </span>\n    );\n    if (imageName.indexOf(\"/\") > 0) {\n      content = (\n        <span>\n          {`${imageName} appears to be hosted on Docker Registry. \n        Make sure you have not deleted this image from the repository since it was originally deployed. \n        Deletion usually does not happen automatically, so if you have not deleted the image intentionally, \n        you don't need to worry about this.`}\n          <br />\n          <br />\n          {`Do you want to continue with rolling back your app to `}\n          <code>{imageName}</code>?\n        </span>\n      );\n    }\n    Modal.confirm({\n      title: \"Rollback?\",\n      content,\n      onOk: () => {\n        self.props.onVersionRollbackRequested(versionToRevert);\n      }\n    });\n  }\n\n  render() {\n    const self = this;\n    const versionsReversed = Utils.copyObject(self.props.versions).reverse();\n    return (\n      <div>\n        <h3>Version History</h3>\n        <div>\n          <Table\n            size=\"small\"\n            rowKey=\"timeStamp\"\n            pagination={{ pageSize: 5 }}\n            columns={this.getCols()}\n            dataSource={versionsReversed}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { AppDetailsTabProps } from \"../AppDetails\";\nimport BuildLogsView from \"./BuildLogsView\";\nimport { Col, Row, Upload, Input, message, Icon, Button } from \"antd\";\nimport TarUploader from \"./TarUploader\";\nimport GitRepoForm from \"./GitRepoForm\";\nimport { RepoInfo, IAppDef, IAppVersion } from \"../../AppDefinition\";\nimport Utils from \"../../../../utils/Utils\";\nimport DomUtils from \"../../../../utils/DomUtils\";\nimport UploaderPlainTextCaptainDefinition from \"./UploaderPlainTextCaptainDefinition\";\nimport UploaderPlainTextDockerfile from \"./UploaderPlainTextDockerfile\";\nimport ApiComponent from \"../../../global/ApiComponent\";\nimport AppVersionTable from \"./AppVersionTable\";\nimport Toaster from \"../../../../utils/Toaster\";\n\ninterface IDeploymentTabProps extends AppDetailsTabProps {\n  onUpdateConfigAndSave: () => void;\n}\nexport default class Deployment extends ApiComponent<\n  IDeploymentTabProps,\n  {\n    dummyVar: undefined;\n    buildLogRecreationId: string;\n    updatedVersions:\n      | { versions: IAppVersion[]; deployedVersion: number }\n      | undefined;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      dummyVar: undefined,\n      updatedVersions: undefined,\n      buildLogRecreationId: \"\"\n    };\n  }\n\n  onUploadSuccess() {\n    message.info(\"Build has started\");\n    this.setState({ buildLogRecreationId: \"\" + new Date().getTime() });\n    DomUtils.scrollToTopBar();\n  }\n\n  onAppBuildFinished() {\n    const self = this;\n    self.apiManager\n      .getAllApps()\n      .then(function(data) {\n        const appDefs = data.appDefinitions as IAppDef[];\n        for (let index = 0; index < appDefs.length; index++) {\n          const element = appDefs[index];\n          if (element.appName === self.props.apiData.appDefinition.appName) {\n            return Utils.copyObject(element);\n          }\n        }\n        throw new Error(\"App not found!\");\n      })\n      .then(function(app) {\n        self.setState({\n          updatedVersions: {\n            deployedVersion: app.deployedVersion,\n            versions: app.versions\n          }\n        });\n      });\n  }\n\n  onVersionRollbackRequested(version: IAppVersion) {\n    const self = this;\n    self.apiManager\n      .uploadCaptainDefinitionContent(\n        self.props.apiData.appDefinition.appName!,\n        {\n          schemaVersion: 2,\n          dockerfileLines: [\"FROM \" + version.deployedImageName]\n        },\n        version.gitHash || \"\",\n        true\n      )\n      .then(function() {\n        self.onUploadSuccess();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n    const app = this.props.apiData.appDefinition;\n    const hasPushToken =\n      app.appPushWebhook && app.appPushWebhook.pushWebhookToken;\n    const repoInfo = app.appPushWebhook\n      ? app.appPushWebhook.repoInfo\n      : {\n          user: \"\",\n          password: \"\",\n          branch: \"\",\n          repo: \"\"\n        };\n    return (\n      <div>\n        <BuildLogsView\n          onAppBuildFinished={() => self.onAppBuildFinished()}\n          appName={app.appName!}\n          buildLogRecreationId={self.state.buildLogRecreationId}\n          key={app.appName! + \"-\" + self.state.buildLogRecreationId}\n        />\n        <div style={{ height: 20 }} />\n        <hr />\n        <div style={{ height: 20 }} />\n\n        <AppVersionTable\n          onVersionRollbackRequested={versionToRevert =>\n            self.onVersionRollbackRequested(versionToRevert)\n          }\n          versions={\n            self.state.updatedVersions\n              ? self.state.updatedVersions.versions\n              : app.versions\n          }\n          deployedVersion={\n            self.state.updatedVersions\n              ? self.state.updatedVersions.deployedVersion\n              : app.deployedVersion\n          }\n        />\n\n        <div style={{ height: 20 }} />\n        <h4>\n          <Icon type=\"rocket\" /> Method 1: Official CLI\n        </h4>\n        <p>\n          Use CLI deploy command. This is the easiest method as it only requires\n          a simply command like <code>captainduckduck deploy</code>. Read more\n          about it in the{\" \"}\n          <a\n            href=\"https://captainduckduck.com/docs/get-started.html#step-4-deploy-the-test-app\"\n            target=\"_blank\"\n          >\n            docs\n          </a>\n        </p>\n        <div style={{ height: 20 }} />\n        <h4>\n          <Icon type=\"rocket\" /> Method 2: Tarball\n        </h4>\n        <p>\n          You can simply create a tarball (<code>.tar</code>) of your project\n          and upload it here via upload button.\n        </p>\n\n        <TarUploader\n          onUploadSucceeded={() => self.onUploadSuccess()}\n          appName={app.appName!}\n        />\n\n        <div style={{ height: 40 }} />\n        <h4>\n          <Icon type=\"rocket\" /> Method 3: Deploy from Github/Bitbucket/Gitlab\n        </h4>\n        <p>\n          Enter your repository information in the form and save. Then copy the\n          URL in the box as a webhook on Github, Bitbucket, Gitlab and etc. Once\n          you push a commit, CaptainDuckDuck starts a new build.\n          <br />\n        </p>\n        <Row>\n          <Input\n            onFocus={e => {\n              if (hasPushToken) {\n                e.target.select();\n                document.execCommand(\"copy\");\n                message.info(\"Copied to clipboard!\");\n              }\n            }}\n            className=\"code-input\"\n            readOnly={true}\n            disabled={!hasPushToken}\n            defaultValue={\n              hasPushToken\n                ? window.location.protocol +\n                  \"//captain.\" +\n                  this.props.apiData.rootDomain +\n                  \"/api/v1/user/webhooks/triggerbuild?namespace=captain&token=\" +\n                  app.appPushWebhook!.pushWebhookToken\n                : \"** Add repo info and save for this webhook to appear **\"\n            }\n          />\n        </Row>\n        <br />\n        <GitRepoForm\n          gitRepoValues={repoInfo}\n          updateRepoInfo={newRepo => {\n            console.log(newRepo);\n            const newApiData = Utils.copyObject(this.props.apiData);\n            if (newApiData.appDefinition.appPushWebhook) {\n              newApiData.appDefinition.appPushWebhook.repoInfo = Utils.copyObject(\n                newRepo\n              );\n            } else {\n              newApiData.appDefinition.appPushWebhook = {\n                repoInfo: Utils.copyObject(newRepo)\n              };\n            }\n            this.props.updateApiData(newApiData);\n          }}\n        />\n        <Row type=\"flex\" justify=\"end\">\n          <Button\n            disabled={!repoInfo.repo}\n            type=\"primary\"\n            onClick={() => self.props.onUpdateConfigAndSave()}\n          >\n            Save &amp; Update\n          </Button>\n        </Row>\n        <div style={{ height: 20 }} />\n        <h4>\n          <Icon type=\"rocket\" /> Method 4: Deploy plain Dockerfile\n        </h4>\n        <UploaderPlainTextDockerfile\n          appName={app.appName!}\n          onUploadSucceeded={() => self.onUploadSuccess()}\n        />\n        <div style={{ height: 20 }} />\n        <h4>\n          <Icon type=\"rocket\" /> Method 5: Deploy captain-definition file\n        </h4>\n        <UploaderPlainTextCaptainDefinition\n          appName={app.appName!}\n          onUploadSucceeded={() => self.onUploadSuccess()}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component, RefObject } from \"react\";\nimport {\n  message,\n  Row,\n  Col,\n  Card,\n  Icon,\n  Tooltip,\n  Tabs,\n  Checkbox,\n  Button,\n  Input,\n  Affix,\n  Modal\n} from \"antd\";\nimport ApiComponent from \"../../global/ApiComponent\";\nimport Toaster from \"../../../utils/Toaster\";\nimport CenteredSpinner from \"../../global/CenteredSpinner\";\nimport { RouteComponentProps } from \"react-router\";\nimport { IAppDef } from \"../AppDefinition\";\nimport ClickableLink from \"../../global/ClickableLink\";\nimport HttpSettings from \"./HttpSettings\";\nimport ApiManager from \"../../../api/ApiManager\";\nimport AppConfigs from \"./AppConfigs\";\nimport Deployment from \"./deploy/Deployment\";\nimport Utils from \"../../../utils/Utils\";\nconst TabPane = Tabs.TabPane;\n\nconst WEB_SETTINGS = \"WEB_SETTINGS\";\nconst APP_CONFIGS = \"APP_CONFIGS\";\nconst DEPLOYMENT = \"DEPLOYMENT\";\n\nexport interface SingleAppApiData {\n  appDefinition: IAppDef;\n  rootDomain: string;\n  defaultNginxConfig: string;\n}\n\nexport interface AppDetailsTabProps {\n  apiData: SingleAppApiData;\n  apiManager: ApiManager;\n  updateApiData: Function;\n  reFetchData: () => void;\n  setLoading: (value: boolean) => void;\n}\n\ninterface PropsInterface extends RouteComponentProps<any> {\n  mainContainer: RefObject<HTMLDivElement>;\n}\n\nexport default class AppDetails extends ApiComponent<\n  PropsInterface,\n  {\n    isLoading: boolean;\n    apiData: SingleAppApiData | undefined;\n    activeTabKey: string;\n    renderCounterForAffixBug: number;\n  }\n> {\n  private reRenderTriggered = false;\n  private confirmedAppNameToDelete: string = \"\";\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      activeTabKey: WEB_SETTINGS,\n      isLoading: true,\n      renderCounterForAffixBug: 0,\n      apiData: undefined\n    };\n  }\n\n  goBackToApps() {\n    this.props.history.push(\"/apps\");\n  }\n\n  onDeleteAppClicked() {\n    const self = this;\n    const appDef = Utils.copyObject(self.state.apiData!.appDefinition);\n\n    self.confirmedAppNameToDelete = \"\";\n\n    Modal.confirm({\n      title: \"Confirm Permanent Delete?\",\n      content: (\n        <div>\n          <p>\n            You are about to delete <code>{appDef.appName}</code>. Enter the\n            name of this app in the box below to confirm deletion of this app.\n            Please note that this is\n            <b> not reversible</b>.\n          </p>\n          <p className={appDef.hasPersistentData ? \"\" : \"hide-on-demand\"}>\n            <b>IMPORTANT:</b>\n            <i> {appDef.appName}</i> is an app with persistent data. After\n            deleting the app from CaptainDuckDuck, you will have to manually SSH\n            to your server, and delete Persistent Directories on your server.\n            Refer to the\n            <a\n              href=\"https://captainduckduck.com/docs/app-configuration.html#removing-persistent-apps\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              documentations\n            </a>\n            for more details.\n          </p>\n          <p>Confirm App Name:</p>\n          <Input\n            type=\"text\"\n            placeholder={appDef.appName}\n            onChange={e => {\n              self.confirmedAppNameToDelete = e.target.value.trim();\n            }}\n          />\n        </div>\n      ),\n      onOk() {\n        if (self.confirmedAppNameToDelete !== appDef.appName) {\n          message.warning(\"App name did not match. Operation cancelled.\");\n          return;\n        }\n\n        self.setState({ isLoading: true });\n        self.apiManager\n          .deleteApp(appDef.appName!)\n          .then(function() {\n            message.success(\"App deleted!\");\n          })\n          .then(function() {\n            self.goBackToApps();\n          })\n          .catch(Toaster.createCatcher());\n      },\n      onCancel() {\n        // do nothing\n      }\n    });\n  }\n\n  onUpdateConfigAndSave() {\n    const self = this;\n    const appDef = Utils.copyObject(self.state.apiData!.appDefinition);\n    self.setState({ isLoading: true });\n    this.apiManager\n      .updateConfigAndSave(appDef.appName!, appDef)\n      .then(function(data: any) {\n        self.reFetchData();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n\n    if (self.state.isLoading) {\n      return <CenteredSpinner />;\n    }\n\n    if (!self.reRenderTriggered) {\n      //crazy hack to make sure the Affix is showing (delete and save & update)\n      self.reRenderTriggered = true;\n      setTimeout(function() {\n        self.setState({ renderCounterForAffixBug: 1 });\n      }, 50);\n    }\n\n    const app = self.state.apiData!.appDefinition;\n\n    return (\n      <Row>\n        <Col span={20} offset={2}>\n          <Card\n            extra={\n              <ClickableLink onLinkClicked={() => self.goBackToApps()}>\n                <Tooltip title=\"Close\">\n                  <Icon type=\"close\" />\n                </Tooltip>\n              </ClickableLink>\n            }\n            title={\n              <span>\n                <Icon type=\"code\" />\n                &nbsp;&nbsp;&nbsp;{app.appName}\n              </span>\n            }\n          >\n            <Tabs\n              defaultActiveKey={WEB_SETTINGS}\n              onChange={key => {\n                self.setState({ activeTabKey: key });\n              }}\n            >\n              <TabPane\n                tab={<span className=\"unselectable-span\">HTTP Settings</span>}\n                key={WEB_SETTINGS}\n              >\n                <HttpSettings\n                  setLoading={value => this.setState({ isLoading: value })}\n                  reFetchData={() => this.reFetchData()}\n                  apiData={this.state.apiData!}\n                  apiManager={this.apiManager}\n                  updateApiData={(newData: any) =>\n                    this.setState({ apiData: newData })\n                  }\n                />\n              </TabPane>\n              <TabPane\n                tab={<span className=\"unselectable-span\">App Configs</span>}\n                key={APP_CONFIGS}\n              >\n                <AppConfigs\n                  setLoading={value => this.setState({ isLoading: value })}\n                  reFetchData={() => this.reFetchData()}\n                  apiData={this.state.apiData!}\n                  apiManager={this.apiManager}\n                  updateApiData={(newData: any) =>\n                    this.setState({ apiData: newData })\n                  }\n                />\n              </TabPane>\n              <TabPane\n                tab={<span className=\"unselectable-span\">Deployment</span>}\n                key={DEPLOYMENT}\n              >\n                <Deployment\n                  setLoading={value => this.setState({ isLoading: value })}\n                  reFetchData={() => this.reFetchData()}\n                  apiData={this.state.apiData!}\n                  apiManager={this.apiManager}\n                  onUpdateConfigAndSave={() => self.onUpdateConfigAndSave()}\n                  updateApiData={(newData: any) =>\n                    this.setState({ apiData: newData })\n                  }\n                />\n              </TabPane>\n            </Tabs>\n            <div style={{ height: 70 }} />\n\n            <Affix\n              offsetBottom={10}\n              target={() => {\n                const newLocal = self.props.mainContainer;\n                return newLocal && newLocal.current ? newLocal.current : window;\n              }}\n            >\n              <div\n                className={\n                  self.state.activeTabKey === DEPLOYMENT ? \"hide-on-demand\" : \"\"\n                }\n                style={{\n                  borderRadius: 8,\n                  background: \"rgba(51,73,90,0.9)\",\n                  paddingTop: 20,\n                  paddingBottom: 20\n                }}\n              >\n                <Row type=\"flex\" justify=\"center\" gutter={20}>\n                  <Col span={8}>\n                    <div style={{ textAlign: \"center\" }}>\n                      <Button\n                        style={{ minWidth: 135 }}\n                        type=\"danger\"\n                        size=\"large\"\n                        onClick={() => self.onDeleteAppClicked()}\n                      >\n                        Delete App\n                      </Button>\n                    </div>\n                  </Col>\n                  <Col span={8}>\n                    <div style={{ textAlign: \"center\" }}>\n                      <Button\n                        style={{ minWidth: 135 }}\n                        type=\"primary\"\n                        size=\"large\"\n                        onClick={() => self.onUpdateConfigAndSave()}\n                      >\n                        Save &amp; Update\n                      </Button>\n                    </div>\n                  </Col>\n                </Row>\n              </div>\n            </Affix>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n\n  componentDidMount() {\n    this.reFetchData();\n  }\n\n  reFetchData() {\n    const self = this;\n    self.setState({ isLoading: true });\n    this.apiManager\n      .getAllApps()\n      .then(function(data: any) {\n        for (let index = 0; index < data.appDefinitions.length; index++) {\n          const element = data.appDefinitions[index];\n          if (element.appName === self.props.match.params.appName) {\n            self.setState({\n              isLoading: false,\n              apiData: {\n                appDefinition: element,\n                rootDomain: data.rootDomain,\n                defaultNginxConfig: data.defaultNginxConfig\n              }\n            });\n            return;\n          }\n        }\n\n        // App Not Found!\n        self.goBackToApps();\n      })\n      .catch(Toaster.createCatcher());\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport { Row, Col, Card, Avatar, Icon, Tooltip } from \"antd\";\nimport Toaster from \"../../utils/Toaster\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\n\nclass LoadBalancerStatsCard extends Component<any, any> {\n  render() {\n    return (\n      <div\n        style={{\n          height: 240,\n          overflow: \"hidden\",\n          borderRadius: 5,\n          border: \"1px solid #dddddd\",\n          backgroundColor: \"#fbfbfb\"\n        }}\n      >\n        <div style={{ textAlign: \"center\", margin: 16 }}>\n          <Avatar\n            style={{ backgroundColor: this.props.color }}\n            size={64}\n            icon={this.props.icon}\n          />\n        </div>\n        <div style={{ textAlign: \"center\" }}>\n          <h4>\n            {this.props.titleText}\n            <br />\n            {this.props.titleNumber}\n          </h4>\n          <p>\n            {this.props.text1}\n            <br />\n            {this.props.text2}\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default class LoadBalancerStats extends ApiComponent<\n  {},\n  { apiData: any }\n> {\n  private updateApiInterval: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = { apiData: undefined };\n  }\n  updateApi() {\n    const self = this;\n    this.apiManager\n      .getLoadBalancerInfo()\n      .then(function(data) {\n        self.setState({ apiData: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  componentWillUnmount() {\n    if (this.updateApiInterval) {\n      clearInterval(this.updateApiInterval);\n    }\n  }\n\n  componentDidMount() {\n    const self = this;\n    this.updateApi();\n    this.updateApiInterval = setInterval(function() {\n      self.updateApi();\n    }, 20000);\n  }\n\n  render() {\n    if (!this.state.apiData) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        <Row>\n          <Col span={22} offset={1}>\n            <Card title=\"Load Balancer Stats\">\n              <Row type=\"flex\" gutter={10}>\n                <Col span={6}>\n                  <Tooltip title=\"Constantly going up as refreshing the values\">\n                    <div>\n                      <LoadBalancerStatsCard\n                        icon=\"global\"\n                        color=\"#2361ae\"\n                        titleText=\"Total Requests\"\n                        titleNumber={`${this.state.apiData.total}`}\n                        text1={``}\n                        text2={``}\n                      />\n                    </div>\n                  </Tooltip>\n                </Col>\n                <Col span={6}>\n                  <LoadBalancerStatsCard\n                    icon=\"cluster\"\n                    color=\"#23ae89\"\n                    titleText=\"Active Connections\"\n                    titleNumber={`${this.state.apiData.activeConnections}`}\n                    text1={`${this.state.apiData.handled} handled`}\n                    text2={`${this.state.apiData.accepted} accepted`}\n                  />\n                </Col>\n                <Col span={6}>\n                  <LoadBalancerStatsCard\n                    icon=\"sync\"\n                    color=\"#d3a938\"\n                    titleText=\"Active Requests\"\n                    titleNumber={`${this.state.apiData.reading +\n                      this.state.apiData.writing}`}\n                    text1={`${this.state.apiData.reading} reading`}\n                    text2={`${this.state.apiData.writing} writing`}\n                  />\n                </Col>\n                <Col span={6}>\n                  <LoadBalancerStatsCard\n                    icon=\"clock-circle\"\n                    color=\"#ae2323\"\n                    titleText=\"Waiting Requests\"\n                    titleNumber={`${this.state.apiData.waiting}`}\n                    text1={`  `}\n                    text2={`  `}\n                  />\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class NetDataDescription extends Component {\n  render() {\n    return (\n      <div>\n        <p>\n          <a\n            href=\"https://github.com/netdata/netdata/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            NetData\n          </a>{\" \"}\n          is one of the most popular and most powerful monitoring tools that\n          provide a web interface. It is a system for distributed real-time\n          performance and health monitoring. It provides unparalleled insights,\n          in real-time, of everything happening on the system it runs (including\n          applications such as web and database servers), using modern\n          interactive web dashboards.\n        </p>\n        <p>\n          NetData is fast and efficient, designed to permanently run on all\n          systems (physical &amp; virtual servers, containers, IoT devices),\n          without disrupting their core function.\n        </p>\n        <p>\n          Captain provides a simple interface to enable NetData on your captain\n          instance. Currently, Captain only supports installing NetData on your{\" \"}\n          <b>leader node</b>, i.e., the node where Captain instance resides.\n          This limitation is due to a limitation in Docker interface,\n          <a\n            href=\"https://github.com/moby/moby/issues/25885/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {\" \"}\n            see here\n          </a>{\" \"}\n          .\n        </p>\n        <p>\n          <i>For more details regarding NetData, visit their </i>\n          <a\n            href=\"https://github.com/firehol/netdata/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            GitHub page\n          </a>\n          .\n        </p>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Row, Col, Input, Checkbox, Button } from \"antd\";\nimport Utils from \"../../utils/Utils\";\n\nexport default class NetDataSettingsForm extends Component<{\n  netDataInfo: any;\n  updateModel: (netDataInfo: any) => void;\n}> {\n  changeModel(\n    parentField: string,\n    childField: string,\n    value: string | boolean\n  ) {\n    const netDataInfo = Utils.copyObject(this.props.netDataInfo);\n    const netDataInfoData = netDataInfo.data;\n    if (!netDataInfoData[parentField]) {\n      netDataInfoData[parentField] = {};\n    }\n    netDataInfoData[parentField][childField] = value;\n    this.props.updateModel(netDataInfo);\n  }\n\n  render() {\n    const self = this;\n    const netDataInfo = this.props.netDataInfo;\n    return (\n      <div>\n        <h3>Notification Settings</h3>\n\n        <p>\n          NetData offers multiple ways for you to receive notifications if\n          something is going wrong with your server resource usage.\n          <i>All notification options are completely OPTIONAL.</i>\n        </p>\n        <hr />\n        <br />\n        <h4>Email (SMTP)</h4>\n\n        <Row>\n          <Col span={20} offset={2}>\n            <Row type=\"flex\" gutter={20} align=\"middle\">\n              <Col className=\"netdata-field\" span={12}>\n                Recipient Email\n                <Input\n                  type=\"text\"\n                  placeholder=\"alerts.receiver@example.com\"\n                  value={netDataInfo.data.smtp.to}\n                  onChange={e => self.changeModel(\"smtp\", \"to\", e.target.value)}\n                />\n              </Col>\n\n              <Col className=\"netdata-field\" span={12}>\n                Server Tag\n                <Input\n                  type=\"text\"\n                  placeholder=\"my-aws-server-01-anything\"\n                  value={netDataInfo.data.smtp.hostname}\n                  onChange={e =>\n                    self.changeModel(\"smtp\", \"hostname\", e.target.value)\n                  }\n                />\n              </Col>\n\n              <Col className=\"netdata-field\" span={12}>\n                SMTP Server\n                <Input\n                  type=\"text\"\n                  placeholder=\"smtp.gmail.com\"\n                  value={netDataInfo.data.smtp.server}\n                  onChange={e =>\n                    self.changeModel(\"smtp\", \"server\", e.target.value)\n                  }\n                />\n              </Col>\n\n              <Col className=\"netdata-field\" span={6}>\n                SMTP Port\n                <Input\n                  type=\"number\"\n                  placeholder=\"587\"\n                  value={netDataInfo.data.smtp.port}\n                  onChange={e =>\n                    self.changeModel(\"smtp\", \"port\", e.target.value)\n                  }\n                />\n              </Col>\n\n              <Col className=\"netdata-field\" span={6}>\n                Unsecure\n                <Checkbox\n                  checked={!!netDataInfo.data.smtp.allowNonTls}\n                  onChange={e =>\n                    self.changeModel(\"smtp\", \"allowNonTls\", e.target.checked)\n                  }\n                >\n                  allow non-TLS\n                </Checkbox>\n              </Col>\n\n              <Col className=\"netdata-field\" span={12}>\n                SMTP Username\n                <Input\n                  type=\"text\"\n                  placeholder=\"alerts.receiver@example.com\"\n                  value={netDataInfo.data.smtp.username}\n                  onChange={e =>\n                    self.changeModel(\"smtp\", \"username\", e.target.value)\n                  }\n                />\n              </Col>\n\n              <Col className=\"netdata-field\" span={12}>\n                SMTP password\n                <Input\n                  type=\"text\"\n                  placeholder=\"your password\"\n                  value={netDataInfo.data.smtp.password}\n                  onChange={e =>\n                    self.changeModel(\"smtp\", \"password\", e.target.value)\n                  }\n                />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <br />\n        <h4>Slack</h4>\n        <Row>\n          <Col span={20} offset={2}>\n            <Row type=\"flex\" gutter={20} align=\"middle\">\n              <Col className=\"netdata-field\" span={12}>\n                Slack Webhook\n                <Input\n                  type=\"text\"\n                  placeholder=\"https://hooks.slack.com/services/XXXX\"\n                  value={netDataInfo.data.slack.hook}\n                  onChange={e =>\n                    self.changeModel(\"slack\", \"hook\", e.target.value)\n                  }\n                />\n              </Col>\n              <Col className=\"netdata-field\" span={12}>\n                Slack Channel\n                <Input\n                  type=\"text\"\n                  placeholder=\"alertschannel\"\n                  value={netDataInfo.data.slack.channel}\n                  onChange={e =>\n                    self.changeModel(\"slack\", \"channel\", e.target.value)\n                  }\n                />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <br />\n        <h4>Telegram</h4>\n        <Row>\n          <Col span={20} offset={2}>\n            <Row type=\"flex\" gutter={20} align=\"middle\">\n              <Col className=\"netdata-field\" span={12}>\n                Bot Token\n                <Input\n                  type=\"text\"\n                  placeholder=\"TELEGRAM_BOT_TOKEN\"\n                  value={netDataInfo.data.telegram.botToken}\n                  onChange={e =>\n                    self.changeModel(\"telegram\", \"botToken\", e.target.value)\n                  }\n                />\n              </Col>\n              <Col className=\"netdata-field\" span={12}>\n                Chat ID\n                <Input\n                  type=\"text\"\n                  placeholder=\"Telegram Chat ID\"\n                  value={netDataInfo.data.telegram.chatId}\n                  onChange={e =>\n                    self.changeModel(\"telegram\", \"chatId\", e.target.value)\n                  }\n                />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <br />\n        <h4>Push Bullet</h4>\n        <Row>\n          <Col span={20} offset={2}>\n            <Row type=\"flex\" gutter={20} align=\"middle\">\n              <Col className=\"netdata-field\" span={12}>\n                Push Bullet API token\n                <Input\n                  type=\"text\"\n                  placeholder=\"PUSH_BULLET_API_TOKEN\"\n                  value={netDataInfo.data.pushBullet.apiToken}\n                  onChange={e =>\n                    self.changeModel(\"pushBullet\", \"apiToken\", e.target.value)\n                  }\n                />\n              </Col>\n              <Col className=\"netdata-field\" span={12}>\n                Default Email (fallback receiver)\n                <Input\n                  type=\"text\"\n                  placeholder=\"alerts.receiver@example.com\"\n                  value={netDataInfo.data.pushBullet.fallbackEmail}\n                  onChange={e =>\n                    self.changeModel(\n                      \"pushBullet\",\n                      \"fallbackEmail\",\n                      e.target.value\n                    )\n                  }\n                />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport { Card, Col, Row, Button, Icon, message } from \"antd\";\nimport Toaster from \"../../utils/Toaster\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\nimport NetDataDescription from \"./NetDataDescription\";\nimport NetDataSettingsForm from \"./NetDataSettingsForm\";\nimport Utils from \"../../utils/Utils\";\n\nexport default class NetDataInfo extends ApiComponent<{}, { apiData: any }> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      apiData: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.refetchData();\n  }\n\n  refetchData() {\n    const self = this;\n    self.setState({ apiData: undefined });\n    this.apiManager\n      .getNetDataInfo()\n      .then(function(data) {\n        self.setState({ apiData: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  toggleNetDataClicked(isActivated: boolean) {\n    const netDataInfo = Utils.copyObject(this.state.apiData);\n    netDataInfo.isEnabled = !!isActivated;\n    this.onUpdateNetDataClicked(netDataInfo);\n  }\n\n  onUpdateNetDataClicked(netDataInfo: any) {\n    const self = this;\n    self.setState({ apiData: undefined });\n    return this.apiManager\n      .updateNetDataInfo(netDataInfo)\n      .then(function() {\n        message.success(\n          netDataInfo.isEnabled\n            ? \"NetData is started and updated!\"\n            : \"NetData has stopped!\"\n        );\n      })\n      .catch(Toaster.createCatcher())\n      .then(function() {\n        self.refetchData();\n      });\n  }\n\n  render() {\n    const self = this;\n\n    if (!this.state.apiData) {\n      return <CenteredSpinner />;\n    }\n\n    const netDataInfo = this.state.apiData;\n\n    return (\n      <div>\n        <Row>\n          <Col span={18} offset={3}>\n            <Card title=\"NetData Monitoring Tool\">\n              <NetDataDescription />\n              <hr />\n              <div style={{ height: 30 }} />\n              <div className={netDataInfo.isEnabled ? \"hide-on-demand\" : \"\"}>\n                <Row type=\"flex\" justify=\"end\">\n                  <Button\n                    onClick={() => self.toggleNetDataClicked(true)}\n                    type=\"primary\"\n                  >\n                    <span>\n                      Start NetData Engine &nbsp;\n                      <Icon type=\"poweroff\" />\n                    </span>\n                  </Button>\n                </Row>\n              </div>\n\n              <div className={!netDataInfo.isEnabled ? \"hide-on-demand\" : \"\"}>\n                <Row type=\"flex\" justify=\"end\">\n                  <Button\n                    style={{ marginRight: 50 }}\n                    onClick={() => self.toggleNetDataClicked(false)}\n                    type=\"danger\"\n                  >\n                    <span>\n                      Turn NetData Off &nbsp;\n                      <Icon type=\"poweroff\" />\n                    </span>\n                  </Button>\n\n                  <a\n                    type=\"submit\"\n                    href={\"//\" + netDataInfo.netDataUrl}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <Button\n                      //onClick={() => self.onStartNetDataClicked()}\n                      type=\"primary\"\n                    >\n                      <span>\n                        Open NetData &nbsp;\n                        <Icon type=\"area-chart\" />\n                      </span>\n                    </Button>\n                  </a>\n                </Row>\n                <div style={{ height: 30 }} />\n                <hr />\n                <div style={{ height: 30 }} />\n                <NetDataSettingsForm\n                  updateModel={netDataInfo => {\n                    self.setState({ apiData: netDataInfo });\n                  }}\n                  netDataInfo={netDataInfo}\n                />\n\n                <br />\n\n                <Row type=\"flex\" justify=\"end\">\n                  <Button\n                    type=\"primary\"\n                    onClick={() =>\n                      self.onUpdateNetDataClicked(\n                        Utils.copyObject(self.state.apiData)\n                      )\n                    }\n                  >\n                    Update NetData\n                  </Button>\n                </Row>\n              </div>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport LoadBalancerStats from \"./LoadBalancerStats\";\nimport NetDataInfo from \"./NetDataInfo\";\n\nexport default class Monitoring extends Component {\n  render() {\n    return (\n      <div>\n        <LoadBalancerStats />\n        <div style={{ height: 50 }} />\n        <NetDataInfo />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport { Input, Button, Row, message } from \"antd\";\nimport Toaster from \"../../utils/Toaster\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\n\nexport default class ChangePass extends ApiComponent<\n  {},\n  { isLoading: boolean; old: string; new1: string; new2: string }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      old: \"\",\n      new1: \"\",\n      new2: \"\"\n    };\n  }\n\n  onChangePasswordClicked() {\n    const self = this;\n    if (!this.state.new1) {\n      message.error(\"New password cannot be empty\");\n      return;\n    }\n\n    if (this.state.new1 !== this.state.new2) {\n      message.error(\"New passwords confirm does not match\");\n      return;\n    }\n\n    this.setState({ isLoading: true });\n\n    this.apiManager\n      .changePass(this.state.old, this.state.new1)\n      .catch(Toaster.createCatcher())\n      .then(function(data) {\n        self.setState({ isLoading: false });\n      });\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        Old Password\n        <Input\n          type=\"password\"\n          onChange={e => this.setState({ old: e.target.value })}\n        />\n        <div style={{ height: 20 }} />\n        <hr />\n        <div style={{ height: 20 }} />\n        New Password\n        <Input\n          type=\"password\"\n          onChange={e => this.setState({ new1: e.target.value })}\n        />\n        <div style={{ height: 20 }} />\n        Confirm New Password\n        <Input\n          type=\"password\"\n          onChange={e => this.setState({ new2: e.target.value })}\n        />\n        <div style={{ height: 40 }} />\n        <Row type=\"flex\" justify=\"end\">\n          <Button onClick={() => this.onChangePasswordClicked()} type=\"primary\">\n            Change Password\n          </Button>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Modal } from \"antd\";\n\nexport default class ReloadCaptainModal extends Component<\n  {\n    isRefreshTimerActivated: boolean;\n  },\n  { timeToRefresh: number }\n> {\n  private hasAlreadyActivated: boolean;\n  constructor(props: any) {\n    super(props);\n    this.hasAlreadyActivated = false;\n    this.state = {\n      timeToRefresh: 0\n    };\n  }\n\n  startTimer() {\n    const self = this;\n    self.setState({ timeToRefresh: 30 });\n    setInterval(function() {\n      if (self.state.timeToRefresh < 2) {\n        window.location.reload(true);\n        return;\n      }\n      self.setState({ timeToRefresh: self.state.timeToRefresh - 1 });\n    }, 1000);\n  }\n\n  render() {\n    const self = this;\n    if (self.props.isRefreshTimerActivated && !this.hasAlreadyActivated) {\n      this.hasAlreadyActivated = true;\n      setTimeout(() => self.startTimer(), 10);\n    }\n\n    return (\n      <div>\n        <Modal\n          closable={false}\n          footer={<div />}\n          title=\"Update Process Started\"\n          visible={self.state.timeToRefresh > 0}\n        >\n          <div>\n            {self.props.children}\n            <p>\n              <b>Time to Refresh: </b>\n              {this.state.timeToRefresh}\n            </p>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Icon, Button, message, Modal, Row, Alert } from \"antd\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\nimport Toaster from \"../../utils/Toaster\";\nimport ReloadCaptainModal from \"./ReloadCaptainModal\";\nimport { IVersionInfo } from \"../../models/IVersionInfo\";\n\nexport default class CheckUpdate extends ApiComponent<\n  {},\n  { versionInfo: IVersionInfo | undefined; isRefreshTimerActivated: boolean }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      versionInfo: undefined,\n      isRefreshTimerActivated: false\n    };\n  }\n\n  componentDidMount() {\n    const self = this;\n    self.apiManager\n      .getVersionInfo()\n      .then(function(data) {\n        self.setState({ versionInfo: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  onPerformUpdateClicked() {\n    const self = this;\n    const versionInfo = this.state.versionInfo;\n    self.apiManager\n      .performUpdate(versionInfo!.latestVersion)\n      .then(function(data) {\n        self.setState({ isRefreshTimerActivated: true });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n    const versionInfo = this.state.versionInfo;\n\n    if (!versionInfo) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        <p>\n          Captain allows in-place updates to be installed. However, always read\n          the change logs before updating your Captain. There might be breaking\n          changes that you need to be aware of. The update usually takes around\n          60 seconds and your Captain may become unresponsive until the update\n          process is finished. Your apps will stay functional and responsive\n          during this time, except for a very short period of 10 seconds or\n          less.\n        </p>\n        <br />\n        <p>\n          <b>Current Version</b>: {versionInfo.currentVersion}\n        </p>\n        <p>\n          <b>Latest Stable Version</b>: {versionInfo.latestVersion}\n        </p>\n        <div className={versionInfo.canUpdate ? \"\" : \"hide-on-demand\"}>\n          <Row type=\"flex\" justify=\"end\">\n            <Button\n              type=\"primary\"\n              onClick={() => this.onPerformUpdateClicked()}\n            >\n              <span>\n                <Icon type=\"cloud-download\" />\n              </span>{\" \"}\n              &nbsp; Install Update\n            </Button>\n          </Row>\n        </div>\n\n        <div className={!versionInfo.canUpdate ? \"\" : \"hide-on-demand\"}>\n          <Alert message=\"Your Captain is the latest version.\" type=\"info\" />\n        </div>\n\n        <ReloadCaptainModal\n          isRefreshTimerActivated={self.state.isRefreshTimerActivated}\n        >\n          <div>\n            <p>\n              Update takes around 30 to 60 seconds to complete depending on your\n              server connection speed.\n            </p>\n            <p>\n              Your Captain dashboard is not functional during the update. Please\n              wait until this page is refreshed automatically.\n            </p>\n\n            <br />\n            <br />\n          </div>\n        </ReloadCaptainModal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport { Input, Icon, Row, Button, message, Modal } from \"antd\";\nimport Utils from \"../../utils/Utils\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\nimport Toaster from \"../../utils/Toaster\";\nimport ReloadCaptainModal from \"./ReloadCaptainModal\";\n\nexport default class NginxConfig extends ApiComponent<\n  {},\n  {\n    nginxConfig: any;\n    isRefreshTimerActivated: boolean;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      nginxConfig: undefined,\n      isRefreshTimerActivated: false\n    };\n  }\n\n  componentDidMount() {\n    const self = this;\n    this.apiManager\n      .getNginxConfig()\n      .then(function(data) {\n        self.setState({ nginxConfig: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  onLoadDefaultNginxConfigClicked() {\n    const newApiData = Utils.copyObject(this.state.nginxConfig);\n    newApiData.baseConfig.customValue = newApiData.baseConfig.byDefault;\n    newApiData.captainConfig.customValue = newApiData.captainConfig.byDefault;\n    this.setState({ nginxConfig: newApiData });\n  }\n\n  onUpdateNginxConfigClicked() {\n    const self = this;\n    const newApiData = Utils.copyObject(this.state.nginxConfig);\n    this.apiManager\n      .setNginxConfig(\n        newApiData.baseConfig.customValue,\n        newApiData.captainConfig.customValue\n      )\n      .then(function() {\n        self.setState({ isRefreshTimerActivated: true });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n    const nginxConfig = this.state.nginxConfig;\n\n    if (!nginxConfig) {\n      return <CenteredSpinner />;\n    }\n\n    return (\n      <div>\n        <ReloadCaptainModal\n          isRefreshTimerActivated={self.state.isRefreshTimerActivated}\n        >\n          <div>\n            Nginx is successfully updated, Captain will restart in 30 seconds.{\" \"}\n            <b>Please wait until the page is automatically refreshed.</b>\n            <br />\n            <br />\n          </div>\n        </ReloadCaptainModal>{\" \"}\n        <p>\n          Captain allows you to set custom configurations for your nginx router.\n          This will allow high customization level in terms of caching, special\n          routing, http2 and etc.\n        </p>\n        <p>\n          Note that templates are build using EJS template pattern. Do not\n          change the areas between <code>&lt;%</code> and <code>%&gt;</code>{\" \"}\n          unless you really know what you're doing!\n        </p>\n        <br />\n        <p>\n          <b>Base Config Location in nginx container</b>: /etc/nginx/nginx.conf\n        </p>\n        <div\n          className={\n            nginxConfig.baseConfig.customValue ||\n            nginxConfig.captainConfig.customValue\n              ? \"\"\n              : \"hide-on-demand\"\n          }\n        >\n          <Input.TextArea\n            className=\"code-input\"\n            placeholder=\"\"\n            rows={17}\n            value={nginxConfig.baseConfig.customValue}\n            onChange={e => {\n              const newApiData = Utils.copyObject(nginxConfig);\n              newApiData.baseConfig.customValue = e.target.value;\n              self.setState({ nginxConfig: newApiData });\n            }}\n          />\n          <div style={{ height: 40 }} />\n        </div>\n        <p>\n          <b>Captain Config Location in nginx container</b>:\n          /etc/nginx/conf.d/captain-root.conf\n        </p>\n        <div\n          className={\n            nginxConfig.baseConfig.customValue ||\n            nginxConfig.captainConfig.customValue\n              ? \"\"\n              : \"hide-on-demand\"\n          }\n        >\n          <Input.TextArea\n            className=\"code-input\"\n            placeholder=\"\"\n            rows={17}\n            value={nginxConfig.captainConfig.customValue}\n            onChange={e => {\n              const newApiData = Utils.copyObject(nginxConfig);\n              newApiData.captainConfig.customValue = e.target.value;\n              self.setState({ nginxConfig: newApiData });\n            }}\n          />\n        </div>\n        <div style={{ height: 40 }} />\n        <div>\n          <Row type=\"flex\" justify=\"end\">\n            <Button\n              type=\"default\"\n              onClick={() => self.onLoadDefaultNginxConfigClicked()}\n            >\n              Load Default and Edit\n            </Button>\n          </Row>\n\n          <div style={{ height: 20 }} />\n\n          <Row type=\"flex\" justify=\"end\">\n            <Button\n              type=\"primary\"\n              onClick={() => self.onUpdateNginxConfigClicked()}\n            >\n              <span>\n                <Icon type=\"sync\" />\n              </span>{\" \"}\n              &nbsp; Save and Update\n            </Button>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Table } from \"antd\";\nimport { ColumnProps } from \"antd/lib/table\";\nimport { IUnusedImage } from \"./DiskCleanup\";\n\nexport default class UnusedImagesTable extends Component<{\n  unusedImages: IUnusedImage[];\n  updateModel: (selectedIds: string[]) => void;\n}> {\n  getCols(): ColumnProps<{ imageName: string; imageId: string }>[] {\n    const columns = [\n      {\n        title: \"Image ID\",\n        dataIndex: \"imageId\" as \"imageId\",\n        render: (imageId: string) => {\n          imageId = imageId || \"\";\n          return (\n            <div style={{ width: 150, fontSize: \"90%\" }}>\n              {imageId.substr(0, Math.min(imageId.length, 25))}...\n            </div>\n          );\n        }\n      },\n      {\n        title: \"Associated Tags\",\n        dataIndex: \"imageName\" as \"imageName\",\n        render: (imageName: string) => {\n          imageName = imageName || \"\";\n          return (\n            <div style={{ whiteSpace: \"pre-line\", fontSize: \"90%\" }}>\n              {imageName}\n            </div>\n          );\n        }\n      }\n    ];\n    return columns;\n  }\n\n  getData() {\n    const data: { key: string; imageName: string; imageId: string }[] = [];\n    for (let index = 0; index < this.props.unusedImages.length; index++) {\n      const element = this.props.unusedImages[index];\n      data.push({\n        key: element.id,\n        imageId: element.id,\n        imageName: element.tags.join(\"\\n\")\n      });\n    }\n    return data;\n  }\n\n  getRowSelection() {\n    // rowSelection object indicates the need for row selection\n    const self = this;\n    const rowSelection = {\n      onChange: (selectedRowKeys: any, selectedRows: any[]) => {\n        self.props.updateModel(selectedRowKeys);\n      },\n      getCheckboxProps: (record: any) => ({\n        disabled: false, // Column configuration not to be checked\n        name: record.imageId\n      })\n    };\n    return rowSelection;\n  }\n\n  render() {\n    return (\n      <div>\n        <Table\n          pagination={false}\n          rowSelection={this.getRowSelection()}\n          columns={this.getCols()}\n          dataSource={this.getData()}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  Row,\n  Col,\n  Input,\n  InputNumber,\n  Tooltip,\n  Button,\n  Icon,\n  message\n} from \"antd\";\nimport ApiComponent from \"../global/ApiComponent\";\nimport Toaster from \"../../utils/Toaster\";\nimport CenteredSpinner from \"../global/CenteredSpinner\";\nimport UnusedImagesTable from \"./UnusedImagesTable\";\n\nexport interface IUnusedImage {\n  tags: string[];\n  id: string;\n}\n\nexport default class DiskCleanup extends ApiComponent<\n  {},\n  {\n    mostRecentLimit: number;\n    unusedImages?: IUnusedImage[];\n    selectedImagesForDelete: string[];\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      mostRecentLimit: 2,\n      selectedImagesForDelete: [],\n      unusedImages: []\n    };\n  }\n\n  onRemoveImagesClicked() {\n    const self = this;\n    this.setState({ unusedImages: undefined });\n    this.apiManager\n      .deleteImages(this.state.selectedImagesForDelete)\n      .then(function(data) {\n        message.success(\"Unused images are deleted.\");\n        self.onGetOldImagesClicked();\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  onGetOldImagesClicked() {\n    const self = this;\n    this.setState({ unusedImages: undefined });\n    this.apiManager\n      .getUnusedImages(this.state.mostRecentLimit)\n      .then(function(data) {\n        self.setState({ unusedImages: data.unusedImages });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n    const unusedImages = this.state.unusedImages;\n\n    if (!unusedImages) {\n      return <CenteredSpinner />;\n    }\n\n    const hasSelectedImagesForRemoval = !!(\n      self.state.selectedImagesForDelete &&\n      self.state.selectedImagesForDelete.length\n    );\n\n    return (\n      <div>\n        <div>\n          <p>\n            Every time you deploy a new build, Docker builds a new image for\n            you. Typically, a large part of this image is shared between the old\n            version and the new version, but a small chunk is added to your disk\n            with each build. You can read more about disk cleanup in the docs,\n            but as a simple interface, this widget gives you the ability to\n            perform image cleanups on demand.\n          </p>\n          <p>\n            You can perform this action, after each deploy. But it's typically\n            not needed with that frequency. For typical mid-sized projects, it's\n            recommended to perform this cleanup after every ~20 builds.\n          </p>\n          <p>\n            With default parameter, it keeps the last two recent builds of all\n            current apps, and creates a list of images that can be deleted (by\n            clicking on Get List button). You can select which images you want\n            to delete and click on Remove Images button. You might noticed that\n            some images are not deleted even though you clicked on Remove\n            Images, it means they are being directly or indirectly in-use by\n            Docker. A common example For indirect usage is an image whose child\n            image is being used by an alive container.\n          </p>\n\n          <br />\n        </div>\n\n        <Row>\n          <Col span={12}>\n            <Tooltip title=\"For example, enter 2 in order to exclude 2 most recent builds during clean-up\">\n              <Input\n                addonBefore=\"Keep most recent\"\n                type=\"number\"\n                value={this.state.mostRecentLimit + \"\"}\n                onChange={e => {\n                  this.setState({ mostRecentLimit: Number(e.target.value) });\n                }}\n              />\n            </Tooltip>\n          </Col>\n          <Col span={12}>\n            <Row type=\"flex\" justify=\"end\">\n              <Button\n                type=\"default\"\n                onClick={() => this.onGetOldImagesClicked()}\n              >\n                <span>\n                  <Icon type=\"sync\" />\n                </span>{\" \"}\n                &nbsp; Get List\n              </Button>\n            </Row>\n          </Col>\n        </Row>\n\n        <div className={unusedImages.length > 0 ? \"\" : \"hide-on-demand\"}>\n          <div style={{ height: 20 }} />\n          <Row type=\"flex\" justify=\"end\">\n            <Tooltip\n              title={\n                hasSelectedImagesForRemoval\n                  ? \"\"\n                  : \"Select images that you want to remove. You can select all from the top row.\"\n              }\n            >\n              <Button\n                disabled={!hasSelectedImagesForRemoval}\n                type=\"primary\"\n                onClick={() => {\n                  self.onRemoveImagesClicked();\n                }}\n              >\n                <span>\n                  <Icon type=\"delete\" />{\" \"}\n                </span>{\" \"}\n                &nbsp; Remove Unused Images\n              </Button>\n            </Tooltip>\n          </Row>\n          <div style={{ height: 20 }} />\n          <div>\n            <b>NOTE: </b> Images that are being used (directly or indirectly)\n            will not be deleted even if you select them.\n          </div>\n          <div style={{ height: 20 }} />\n          <UnusedImagesTable\n            unusedImages={unusedImages}\n            updateModel={selectedImagesForDelete =>\n              this.setState({ selectedImagesForDelete })\n            }\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Row, Col, Card } from \"antd\";\nimport ChangePass from \"./ChangePass\";\nimport CheckUpdate from \"./CheckUpdate\";\nimport NginxConfig from \"./NginxConfig\";\nimport DiskCleanup from \"./DiskCleanup\";\n\nexport default class Settings extends Component {\n  render() {\n    return (\n      <div>\n        <Row type=\"flex\" justify=\"space-around\">\n          <Col span={8}>\n            <div style={{ margin: 10 }}>\n              <Card title=\"Check for Updates\">\n                <CheckUpdate />\n              </Card>\n            </div>\n          </Col>\n          <Col span={16}>\n            <div style={{ margin: 10 }}>\n              <Card title=\"NGINX Configurations\">\n                <NginxConfig />\n              </Card>\n            </div>\n          </Col>\n          <Col span={8}>\n            <div style={{ margin: 10 }}>\n              <Card title=\"Change Password\">\n                <ChangePass />\n              </Card>\n            </div>\n          </Col>\n          <Col span={16}>\n            <div style={{ margin: 10 }}>\n              <Card title=\"Disk Cleanup\">\n                <DiskCleanup />\n              </Card>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\nimport { IOneClickAppIdentifier } from \"../containers/apps/oneclick/OneClickAppSelector\";\n\nconst DOT_JSON = \".JSON\";\n\nexport default class OneClickAppsApi {\n  getOneClickAppByName(appName: string) {\n    const self = this;\n    return self.getAllOneClickApps().then(function(data) {\n      if (!appName) throw new Error(\"appName is empty!\");\n\n      const downloadUrl = data.filter(value => value.name === appName)[0]\n        .download_url;\n\n      return axios\n        .get(downloadUrl) //\n        .then(function(res) {\n          // res contains data, headers, and etc...\n          return res.data;\n        });\n    });\n  }\n\n  getAllOneClickApps() {\n    const self = this;\n    return axios\n      .get(\n        `https://api.github.com/repos/githubsaturn/testing-v1-one-click-apps/contents/one-click-apps/v1`\n      ) //\n      .then(function(res) {\n        // res contains data, headers, and etc...\n        return (res.data as IOneClickAppIdentifier[]).map(element => {\n          return {\n            name: element.name.substr(0, element.name.length - DOT_JSON.length),\n            download_url: element.download_url\n          };\n        });\n      });\n  }\n}\n","import React, { Component } from \"react\";\nimport ApiComponent from \"../../global/ApiComponent\";\nimport OneClickAppsApi from \"../../../api/OneClickAppsApi\";\nimport Toaster from \"../../../utils/Toaster\";\nimport { Row, Col, Card, Select, Button } from \"antd\";\nimport CenteredSpinner from \"../../global/CenteredSpinner\";\nimport { RouteComponentProps } from \"react-router\";\n\nexport interface IOneClickAppIdentifier {\n  name: string;\n  download_url: string;\n}\n\nexport default class OneClickAppSelector extends Component<\n  RouteComponentProps<any>,\n  {\n    oneClickAppList: IOneClickAppIdentifier[] | undefined;\n    selectedApp: string | undefined;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      oneClickAppList: undefined,\n      selectedApp: undefined\n    };\n  }\n\n  componentDidMount() {\n    const self = this;\n    new OneClickAppsApi()\n      .getAllOneClickApps()\n      .then(function(data) {\n        self.setState({\n          oneClickAppList: data\n        });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  createOptions() {\n    return this.state.oneClickAppList!.map(app => {\n      return (\n        <Select.Option key={app.name} value={app.name}>\n          {app.name}\n        </Select.Option>\n      );\n    });\n  }\n\n  render() {\n    const self = this;\n\n    if (!this.state.oneClickAppList) return <CenteredSpinner />;\n\n    return (\n      <div>\n        <Row type=\"flex\" justify=\"center\">\n          <Col span={16}>\n            <Card title=\"One Click Apps\">\n              <p>\n                Choose an app, a database or a bundle (app+database) from the\n                list below. The rest is magic, well... Wizard! One click apps\n                will be retrieved from this GitHub Repo:{\" \"}\n                <a\n                  href=\"https://github.com/githubsaturn/testing-v1-one-click-apps\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  testing-v1-one-click-apps\n                </a>\n              </p>\n              <div style={{ height: 50 }} />\n              <Row type=\"flex\" justify=\"end\" align=\"middle\">\n                <b>One-Click Apps List: &nbsp;&nbsp;</b>\n                <Select\n                  style={{ minWidth: 150 }}\n                  onChange={value => {\n                    self.setState({ selectedApp: value.toString() });\n                  }}\n                >\n                  {self.createOptions()}\n                </Select>\n              </Row>\n              <div style={{ height: 60 }} />\n              <Row type=\"flex\" justify=\"end\" align=\"middle\">\n                <Button\n                  onClick={() =>\n                    self.props.history.push(\n                      `/apps/oneclick/${self.state.selectedApp}`\n                    )\n                  }\n                  disabled={!self.state.selectedApp}\n                  style={{ minWidth: 150 }}\n                  type=\"primary\"\n                >\n                  Next\n                </Button>\n              </Row>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { IOneClickVariable } from \"./OneClickAppConfigPage\";\nimport { Input, Row, Col, Alert, Button, message } from \"antd\";\nimport { IHashMapGeneric } from \"../../../models/IHashMapGeneric\";\nimport Utils from \"../../../utils/Utils\";\n\nexport default class OneClickVariablesSection extends Component<\n  {\n    oneClickAppVariables: IOneClickVariable[];\n    onNextClicked: (values: IHashMapGeneric<string>) => void;\n  },\n  {\n    enteredVariables: IHashMapGeneric<string>;\n    blurredFields: IHashMapGeneric<boolean>;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n\n    let enteredVariables: IHashMapGeneric<string> = {};\n    this.props.oneClickAppVariables.forEach(v => {\n      const defaultValue = v.defaultValue;\n      if (defaultValue) {\n        enteredVariables[v.id] = defaultValue;\n      }\n    });\n\n    this.state = {\n      enteredVariables,\n      blurredFields: {}\n    };\n  }\n\n  onNextClicked() {\n    const self = this;\n    const blurredFields = Utils.copyObject(self.state.blurredFields);\n    let allFieldValid = true;\n    self.props.oneClickAppVariables.forEach(v => {\n      blurredFields[v.id] = true;\n      if (!self.isFieldValueValid(v)) {\n        allFieldValid = false;\n      }\n    });\n\n    if (!allFieldValid) {\n      message.error(\"Fix all errors before deploying.\");\n    } else {\n      self.props.onNextClicked(self.state.enteredVariables);\n    }\n    self.setState({ blurredFields });\n  }\n\n  isFieldValueValid(variable: IOneClickVariable) {\n    const self = this;\n    const currVal = self.state.enteredVariables[variable.id] || \"\";\n    let isEnteredValueValid = true;\n    if (variable.validRegex) {\n      // From https://stackoverflow.com/questions/39154255/converting-regexp-to-string-then-back-to-regexp\n      let parts = /\\/(.*)\\/(.*)/.exec(variable.validRegex);\n      if (\n        !parts /*This should never happen!*/ ||\n        !new RegExp(parts[1], parts[2]).test(currVal)\n      ) {\n        isEnteredValueValid = false;\n      }\n    }\n\n    return isEnteredValueValid;\n  }\n\n  createTextFields() {\n    const self = this;\n    return this.props.oneClickAppVariables.map(variable => {\n      const currVal = self.state.enteredVariables[variable.id];\n\n      return (\n        <div key={variable.id} style={{ marginBottom: 40 }}>\n          <h4>{variable.label}</h4>\n          <div\n            style={{ paddingBottom: 5, fontSize: \"90%\" }}\n            className={!!variable.description ? \"\" : \"hide-on-demand\"}\n          >\n            {variable.description}\n          </div>\n\n          <Row>\n            <Col span={12}>\n              <Input\n                type=\"text\"\n                placeholder={variable.defaultValue}\n                value={currVal === undefined ? variable.defaultValue : currVal}\n                onChange={e => {\n                  const newModel = Utils.copyObject(\n                    this.state.enteredVariables\n                  );\n                  newModel[variable.id] = e.target.value;\n                  this.setState({ enteredVariables: newModel });\n                }}\n                onBlur={e => {\n                  const blurredFields = Utils.copyObject(\n                    self.state.blurredFields\n                  );\n                  blurredFields[variable.id] = true;\n                  self.setState({ blurredFields });\n                }}\n              />\n              <div style={{ height: 5 }} />\n              <Alert\n                className={\n                  !self.state.blurredFields[variable.id] ||\n                  self.isFieldValueValid(variable)\n                    ? \"hide-on-demand\"\n                    : \"\"\n                }\n                showIcon\n                message={\n                  <span>\n                    Invalid value. Does not match Regex:\n                    <code>{variable.validRegex}</code>\n                  </span>\n                }\n                type=\"error\"\n              />\n            </Col>\n          </Row>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const self = this;\n    return (\n      <div>\n        <div>{this.createTextFields()}</div>\n        <Row type=\"flex\" justify=\"end\">\n          <Button\n            size=\"large\"\n            style={{ minWidth: 150 }}\n            type=\"primary\"\n            onClick={() => self.onNextClicked()}\n          >\n            Deploy\n          </Button>\n        </Row>\n      </div>\n    );\n  }\n}\n","import { IDockerComposeService } from \"./OneClickAppConfigPage\";\nimport ApiManager from \"../../../api/ApiManager\";\nimport { IAppDef } from \"../AppDefinition\";\nimport { ICaptainDefinition } from \"../../../models/ICaptainDefinition\";\nimport Utils from \"../../../utils/Utils\";\n\nexport default class OneClickAppDeploymentHelper {\n  private apiManager: ApiManager = new ApiManager();\n\n  createRegisterPromise(\n    appName: string,\n    dockerComposeService: IDockerComposeService\n  ) {\n    const self = this;\n    return Promise.resolve().then(function() {\n      return self.apiManager.registerNewApp(\n        appName,\n        !!dockerComposeService.volumes && !!dockerComposeService.volumes.length\n      );\n    });\n  }\n\n  createConfigurationPromise(\n    appName: string,\n    dockerComposeService: IDockerComposeService\n  ) {\n    const self = this;\n    return Promise.resolve().then(function() {\n      return self.apiManager\n        .getAllApps()\n        .then(function(data) {\n          const appDefs = data.appDefinitions as IAppDef[];\n          for (let index = 0; index < appDefs.length; index++) {\n            const element = appDefs[index];\n            if (element.appName === appName) {\n              return Utils.copyObject(element);\n            }\n          }\n        })\n        .then(function(appDef) {\n          if (!appDef) {\n            throw new Error(\"App was not found right after registering!!\");\n          }\n\n          appDef.volumes = appDef.volumes || [];\n\n          const vols = dockerComposeService.volumes || [];\n          for (let i = 0; i < vols.length; i++) {\n            const elements = vols[i].split(\":\");\n            if (elements[0].startsWith(\"/\")) {\n              appDef.volumes.push({\n                hostPath: elements[0],\n                containerPath: elements[1]\n              });\n            } else {\n              appDef.volumes.push({\n                volumeName: elements[0],\n                containerPath: elements[1]\n              });\n            }\n          }\n\n          appDef.ports = appDef.ports || [];\n          const ports = dockerComposeService.ports || [];\n          for (let i = 0; i < ports.length; i++) {\n            const elements = ports[i].split(\":\");\n            appDef.ports.push({\n              hostPort: Number(elements[0]),\n              containerPort: Number(elements[1])\n            });\n          }\n\n          appDef.envVars = appDef.envVars || [];\n          const environment = dockerComposeService.environment || {};\n          Object.keys(environment).forEach(function(envKey) {\n            appDef.envVars.push({\n              key: envKey,\n              value: environment[envKey]\n            });\n          });\n\n          return self.apiManager.updateConfigAndSave(appName, appDef);\n        });\n    });\n  }\n\n  createDeploymentPromise(\n    appName: string,\n    dockerComposeService: IDockerComposeService\n  ) {\n    const self = this;\n    return Promise.resolve().then(function() {\n      let captainDefinition: ICaptainDefinition = {\n        schemaVersion: 2\n      };\n\n      if (dockerComposeService.image) {\n        captainDefinition.imageName = dockerComposeService.image;\n      } else {\n        captainDefinition.dockerfileLines =\n          dockerComposeService.dockerFileLines;\n      }\n\n      return self.apiManager.uploadCaptainDefinitionContent(\n        appName,\n        captainDefinition,\n        '',\n        false\n      );\n    });\n  }\n}\n","import { IHashMapGeneric } from \"../../../models/IHashMapGeneric\";\nimport {\n  IOneClickTemplate,\n  IDockerComposeService\n} from \"./OneClickAppConfigPage\";\nimport Utils from \"../../../utils/Utils\";\nimport OneClickAppDeploymentHelper from \"./OneClickAppDeploymentHelper\";\n\ninterface IDeploymentStep {\n  stepName: string;\n  stepPromise: () => Promise<void>;\n}\n\nexport interface IDeploymentState {\n  steps: string[];\n  error: string;\n  successMessage?: string;\n  currentStep: number;\n}\n\nexport default class OneClickAppDeployManager {\n  private deploymentHelper: OneClickAppDeploymentHelper = new OneClickAppDeploymentHelper();\n  private template: IOneClickTemplate | undefined;\n  constructor(\n    private onDeploymentStateChanged: (\n      deploymentState: IDeploymentState\n    ) => void\n  ) {\n    //\n  }\n\n  startDeployProcess(\n    template: IOneClickTemplate,\n    values: IHashMapGeneric<string>\n  ) {\n    const self = this;\n    let stringified = JSON.stringify(template);\n\n    for (let index = 0; index < template.variables.length; index++) {\n      const element = template.variables[index];\n      stringified = stringified\n        .split(element.id)\n        .join(values[element.id] || \"\");\n    }\n\n    try {\n      this.template = JSON.parse(stringified);\n    } catch (error) {\n      this.onDeploymentStateChanged({\n        steps: [\"Parsing the template\"],\n        error: `Cannot parse: ${stringified}` + \"\\n\\n\\n\\n\" + error,\n        currentStep: 0\n      });\n      return;\n    }\n\n    // Dependency tree and sort apps\n    // Call createDeploymentStepPromises for all apps.\n    // populate steps as string[]\n    // create promise chain with catch -> error. Each promise gets followed by currentStep++ promise\n    // Start running promises,\n\n    const apps = this.createAppsArrayInOrder();\n    if (!apps) {\n      self.onDeploymentStateChanged({\n        steps: [\"Parsing the template\"],\n        error:\n          \"Cannot parse the template. Dependency tree cannot be resolved. Infinite loop!!\",\n        currentStep: 0\n      });\n    } else if (apps.length === 0) {\n      self.onDeploymentStateChanged({\n        steps: [\"Parsing the template\"],\n        error: \"Cannot parse the template. No services found!!\",\n        currentStep: 0\n      });\n    } else {\n      const steps: IDeploymentStep[] = [];\n      for (let index = 0; index < apps.length; index++) {\n        const element = apps[index];\n        steps.push(\n          ...self.createDeploymentStepPromises(element.appName, element.service)\n        );\n      }\n\n      const stepsTexts: string[] = [\"Parsing the template\"];\n      for (let index = 0; index < steps.length; index++) {\n        stepsTexts.push(steps[index].stepName);\n      }\n\n      let currentStep = 0;\n      const onNextStepPromiseCreator = function() {\n        return new Promise<void>(function(resolve) {\n          currentStep++;\n          self.onDeploymentStateChanged(\n            Utils.copyObject({\n              steps: stepsTexts,\n              error: \"\",\n              currentStep,\n              successMessage:\n                currentStep >= stepsTexts.length\n                  ? self.template!.instructions.end\n                  : undefined\n            })\n          );\n          resolve();\n        });\n      };\n\n      let promise = onNextStepPromiseCreator();\n\n      for (let index = 0; index < steps.length; index++) {\n        const element = steps[index];\n        promise = promise\n          .then(element.stepPromise)\n          .then(onNextStepPromiseCreator);\n      }\n\n      promise.catch(function(error) {\n        self.onDeploymentStateChanged(\n          Utils.copyObject({\n            steps: stepsTexts,\n            error: \"Failed: \" + error,\n            currentStep\n          })\n        );\n      });\n    }\n  }\n\n  /**\n   * Outputs an array which includes all services in order based on their dependencies.\n   * The first element is an app without any dependencies. The second element can be an app that depends on the first app.\n   */\n  createAppsArrayInOrder() {\n    const apps: {\n      appName: string;\n      service: IDockerComposeService;\n    }[] = [];\n\n    let numberOfServices = 0;\n    const servicesMap = this.template!.dockerCompose.services;\n    Object.keys(servicesMap).forEach(function(key) {\n      numberOfServices++;\n    });\n\n    let itCount = 0;\n    while (apps.length < numberOfServices) {\n      if (itCount > numberOfServices) {\n        // we are stuck in an infinite loop\n        return undefined;\n      }\n      itCount++;\n\n      Object.keys(servicesMap).forEach(function(appName) {\n        for (let index = 0; index < apps.length; index++) {\n          const element = apps[index];\n          if (element.appName === appName) {\n            // already added\n            return;\n          }\n        }\n\n        let service = servicesMap[appName];\n\n        const dependsOn = service.depends_on || [];\n\n        for (let index = 0; index < dependsOn.length; index++) {\n          const element = dependsOn[index];\n          let dependencyAlreadyAdded = false;\n          for (let j = 0; j < apps.length; j++) {\n            if (element === apps[j].appName) {\n              dependencyAlreadyAdded = true;\n            }\n          }\n\n          if (!dependencyAlreadyAdded) return;\n        }\n\n        apps.push({\n          appName,\n          service\n        });\n      });\n    }\n\n    return apps;\n  }\n\n  createDeploymentStepPromises(\n    appName: string,\n    dockerComposeService: IDockerComposeService\n  ): IDeploymentStep[] {\n    const promises: IDeploymentStep[] = [];\n    const self = this;\n\n    promises.push({\n      stepName: `Registering ${appName}`,\n      stepPromise: function() {\n        return self.deploymentHelper.createRegisterPromise(\n          appName,\n          dockerComposeService\n        );\n      }\n    });\n\n    promises.push({\n      stepName: `Configuring ${appName} (volumes, ports, environmental variables)`,\n      stepPromise: function() {\n        return self.deploymentHelper.createConfigurationPromise(\n          appName,\n          dockerComposeService\n        );\n      }\n    });\n\n    promises.push({\n      stepName: `Deploying ${appName} (might take up to a minute)`,\n      stepPromise: function() {\n        return self.deploymentHelper.createDeploymentPromise(\n          appName,\n          dockerComposeService\n        );\n      }\n    });\n\n    return promises;\n  }\n}\n","import React, { Component } from \"react\";\nimport { IDeploymentState } from \"./OneClickAppDeployManager\";\nimport { Row, Col, Card, Steps, Icon, Button, Alert } from \"antd\";\n\nconst Step = Steps.Step;\n\nexport default class OneClickAppDeployProgress extends Component<{\n  appName: string;\n  deploymentState: IDeploymentState;\n  onRestartClicked: () => void;\n  onFinishClicked: () => void;\n}> {\n  createSteps() {\n    const steps = this.props.deploymentState.steps;\n    const stepsInfo = [];\n\n    for (let index = 0; index < steps.length; index++) {\n      stepsInfo.push({\n        text: (\n          <span>\n            <span>\n              {index === this.props.deploymentState.currentStep &&\n              !this.props.deploymentState.error ? (\n                <Icon\n                  style={{ fontSize: \"16px\", paddingRight: 12 }}\n                  type=\"loading\"\n                />\n              ) : (\n                <span />\n              )}\n            </span>\n            {steps[index]}\n          </span>\n        ),\n        icon: undefined\n      });\n    }\n\n    return stepsInfo.map(s => {\n      return <Step icon={s.icon} title={s.text} />;\n    });\n  }\n\n  render() {\n    const self = this;\n\n    return (\n      <div>\n        <div>\n          <Row type=\"flex\" justify=\"center\">\n            <Col span={16}>\n              <Card title={`Deploying your ${this.props.appName}`}>\n                <p>\n                  This process takes a few minutes to complete. DO NOT refresh\n                  this page and DO NOT navigate away!!!\n                </p>\n                <div style={{ padding: 20 }}>\n                  <h3>Progress:</h3>\n                  <div style={{ height: 20 }} />\n                  <Steps\n                    status={\n                      !!self.props.deploymentState.error ? \"error\" : undefined\n                    }\n                    direction=\"vertical\"\n                    current={self.props.deploymentState.currentStep}\n                  >\n                    {self.createSteps()}\n                  </Steps>\n\n                  <div\n                    className={\n                      !!self.props.deploymentState.successMessage\n                        ? \"\"\n                        : \"hide-on-demand\"\n                    }\n                  >\n                    <div style={{ height: 20 }} />\n                    <Alert\n                      showIcon\n                      type=\"success\"\n                      message={\n                        <div style={{ whiteSpace: \"pre-line\" }}>\n                          {self.props.deploymentState.successMessage}\n                        </div>\n                      }\n                    />\n                    <div style={{ height: 80 }} />\n                    <Row type=\"flex\" justify=\"end\">\n                      <Button\n                        style={{ minWidth: 150 }}\n                        size=\"large\"\n                        type=\"primary\"\n                        onClick={() => self.props.onFinishClicked()}\n                      >\n                        Finish\n                      </Button>\n                    </Row>\n                  </div>\n\n                  <div\n                    className={\n                      !!self.props.deploymentState.error ? \"\" : \"hide-on-demand\"\n                    }\n                  >\n                    <div style={{ height: 20 }} />\n                    <Alert\n                      showIcon\n                      type=\"error\"\n                      message={self.props.deploymentState.error}\n                    />\n                    <div style={{ height: 80 }} />\n\n                    <Row type=\"flex\" justify=\"end\">\n                      <Button\n                        size=\"large\"\n                        type=\"primary\"\n                        onClick={() => self.props.onRestartClicked()}\n                      >\n                        Go Back &amp; Try Again\n                      </Button>\n                    </Row>\n                  </div>\n                </div>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport OneClickAppsApi from \"../../../api/OneClickAppsApi\";\nimport { RouteComponentProps } from \"react-router\";\nimport { IHashMapGeneric } from \"../../../models/IHashMapGeneric\";\nimport Toaster from \"../../../utils/Toaster\";\nimport { Row, Col, Card, message } from \"antd\";\nimport CenteredSpinner from \"../../global/CenteredSpinner\";\nimport OneClickVariablesSection from \"./OneClickVariablesSection\";\nimport OneClickAppDeployManager, {\n  IDeploymentState\n} from \"./OneClickAppDeployManager\";\nimport OneClickAppDeployProgress from \"./OneClickAppDeployProgress\";\nimport DomUtils from \"../../../utils/DomUtils\";\n\nexport const ONE_CLICK_APP_NAME_VAR_NAME = \"$$cap_appname\";\n\nexport interface IOneClickVariable {\n  id: string;\n  label: string;\n  defaultValue?: string;\n  validRegex?: string;\n  description?: string;\n}\n\nexport interface IDockerComposeService {\n  image?: string;\n  dockerFileLines?: string[]; // This is our property, not DockerCompose. We use this instead of image if we need to extend the image.\n  volumes?: string[];\n  ports?: string[];\n  environment?: IHashMapGeneric<string>;\n  depends_on?: string[];\n}\n\nexport interface IOneClickTemplate {\n  captainVersion: number;\n  dockerCompose: {\n    version: string;\n    services: IHashMapGeneric<IDockerComposeService>;\n  };\n  instructions: {\n    start: string;\n    end: string;\n  };\n  variables: IOneClickVariable[];\n}\n\nexport default class OneClickAppConfigPage extends Component<\n  RouteComponentProps<any>,\n  {\n    apiData: IOneClickTemplate | undefined;\n    deploymentState: IDeploymentState | undefined;\n  }\n> {\n  private oneClickAppDeployHelper: OneClickAppDeployManager;\n  private isUnmount: boolean = false;\n\n  constructor(props: any) {\n    super(props);\n    const self = this;\n    this.state = {\n      apiData: undefined,\n      deploymentState: undefined\n    };\n    this.oneClickAppDeployHelper = new OneClickAppDeployManager(\n      deploymentState => {\n        if (self.isUnmount) {\n          return;\n        }\n        self.setState({ deploymentState });\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    this.isUnmount = true;\n  }\n\n  componentDidMount() {\n    const self = this;\n    new OneClickAppsApi()\n      .getOneClickAppByName(this.props.match.params.appName)\n      .then(function(data: IOneClickTemplate) {\n        if ((data.captainVersion || \"\").toString() !== \"1\") {\n          message.error(\n            \"One-Click App version does not match! Create a GitHub issue please!\"\n          );\n          return;\n        }\n\n        data.variables = data.variables || [];\n        // Adding app name to all one click apps\n        data.variables.unshift({\n          id: ONE_CLICK_APP_NAME_VAR_NAME,\n          label: \"App Name\",\n          description:\n            \"This is your app name. Pick a name such as my-first-1-click-app\",\n          validRegex: \"/^([a-z0-9]+\\\\-)*[a-z0-9]+$/\" // string version of /^([a-z0-9]+\\-)*[a-z0-9]+$/\n        });\n        self.setState({ apiData: data });\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n    const deploymentState = this.state.deploymentState;\n    const apiData = this.state.apiData;\n\n    if (!apiData) {\n      return <CenteredSpinner />;\n    }\n\n    if (!!deploymentState) {\n      return (\n        <OneClickAppDeployProgress\n          appName={self.props.match.params.appName}\n          deploymentState={deploymentState}\n          onFinishClicked={() => self.props.history.push(\"/apps\")}\n          onRestartClicked={() => self.setState({ deploymentState: undefined })}\n        />\n      );\n    }\n\n    return (\n      <div>\n        <Row type=\"flex\" justify=\"center\">\n          <Col span={16}>\n            <Card title={`Setup your ${this.props.match.params.appName}`}>\n              <h2>{this.props.match.params.appName}</h2>\n              <p\n                style={{\n                  whiteSpace: \"pre-line\",\n                  paddingLeft: 15,\n                  paddingRight: 15\n                }}\n              >\n                {apiData.instructions.start}\n              </p>\n              <div style={{ height: 40 }} />\n              <OneClickVariablesSection\n                oneClickAppVariables={apiData.variables}\n                onNextClicked={values => {\n                  self.oneClickAppDeployHelper.startDeployProcess(\n                    self.state.apiData!,\n                    values\n                  );\n                  DomUtils.scrollToTopBar();\n                }}\n              />\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { RefObject, Fragment } from \"react\";\nimport { RouteComponentProps, Switch, Route } from \"react-router\";\nimport ApiManager from \"../api/ApiManager\";\nimport { Layout, Menu, Icon, Row, Col } from \"antd\";\nimport ClickableLink from \"./global/ClickableLink\";\nimport Dashboard from \"./Dashboard\";\nimport LoggedInCatchAll from \"./LoggedInCatchAll\";\nimport Cluster from \"./nodes/Cluster\";\nimport Apps from \"./apps/Apps\";\nimport { SelectParam } from \"antd/lib/menu\";\nimport AppDetails from \"./apps/appDetails/AppDetails\";\nimport Monitoring from \"./monitoring/Monitoring\";\nimport Settings from \"./settings/Settings\";\nimport OneClickAppSelector from \"./apps/oneclick/OneClickAppSelector\";\nimport OneClickAppConfigPage from \"./apps/oneclick/OneClickAppConfigPage\";\nimport ApiComponent from \"./global/ApiComponent\";\nimport Toaster from \"../utils/Toaster\";\nimport { IVersionInfo } from \"../models/IVersionInfo\";\n\nconst { Header, Content, Sider } = Layout;\n\nexport default class PageRoot extends ApiComponent<\n  RouteComponentProps<any>,\n  {\n    versionInfo: IVersionInfo | undefined;\n  }\n> {\n  private mainContainer: RefObject<HTMLDivElement>;\n\n  constructor(props: any) {\n    super(props);\n    this.mainContainer = React.createRef();\n    this.state = {\n      versionInfo: undefined\n    };\n  }\n\n  componentDidMount() {\n    const self = this;\n\n    if (!ApiManager.isLoggedIn()) {\n      this.goToLogin();\n    } else {\n      this.apiManager\n        .getVersionInfo()\n        .then(function(data) {\n          self.setState({ versionInfo: data });\n        })\n        .catch(Toaster.createCatcher());\n    }\n  }\n\n  goToLogin() {\n    this.props.history.push(\"/login\");\n  }\n\n  createUpdateAvailableIfNeeded() {\n    const self = this;\n\n    if (!self.state.versionInfo || !self.state.versionInfo.canUpdate) {\n      return <span />;\n    }\n\n    return (\n      <Fragment>\n        <ClickableLink\n          onLinkClicked={() => self.props.history.push(\"/settings\")}\n        >\n          <Icon\n            type=\"gift\"\n            theme=\"twoTone\"\n            style={{\n              marginLeft: 50\n            }}\n          />\n          <Icon\n            type=\"gift\"\n            theme=\"twoTone\"\n            style={{\n              marginRight: 10,\n              marginLeft: 3\n            }}\n          />\n          Update Available!\n          <Icon\n            type=\"gift\"\n            theme=\"twoTone\"\n            style={{\n              marginLeft: 10\n            }}\n          />\n          <Icon\n            type=\"gift\"\n            theme=\"twoTone\"\n            style={{\n              marginLeft: 3\n            }}\n          />\n        </ClickableLink>\n      </Fragment>\n    );\n  }\n\n  onSelectMenu(param: SelectParam) {\n    this.props.history.push(\"/\" + param.key);\n  }\n\n  render() {\n    const self = this;\n    return (\n      <Layout className=\"full-screen-bg\">\n        <Header className=\"header\">\n          <div>\n            <Row>\n              <Col span={12}>\n                <span>\n                  <h3 style={{ color: \"#fff\" }}>\n                    <img\n                      src=\"/favicon.ico\"\n                      style={{\n                        marginRight: 10\n                      }}\n                    />\n                    CaptainDuckDuck\n                  </h3>\n                </span>\n\n                {self.createUpdateAvailableIfNeeded()}\n              </Col>\n              <Col span={12}>\n                <Row type=\"flex\" justify=\"end\">\n                  <a\n                    href=\"https://github.com/githubsaturn/captainduckduck\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{ marginRight: 20 }}\n                  >\n                    GitHub\n                  </a>\n\n                  <a\n                    href=\"https://captainduckduck.com\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{ marginRight: 70 }}\n                  >\n                    Docs\n                  </a>\n                  <span>\n                    <span\n                      style={{\n                        border: \"1px solid #1b8ad3\",\n                        borderRadius: 5,\n                        padding: 8\n                      }}\n                    >\n                      <ClickableLink\n                        onLinkClicked={() => {\n                          self.apiManager.setAuthToken(\"\");\n                          self.goToLogin();\n                        }}\n                      >\n                        Logout <Icon type=\"logout\" />\n                      </ClickableLink>\n                    </span>\n                  </span>\n                </Row>\n              </Col>\n            </Row>\n          </div>\n        </Header>\n        <Layout>\n          <Sider collapsible width={200} style={{ background: \"#fff\" }}>\n            <Menu\n              onSelect={(param: SelectParam) => {\n                self.onSelectMenu(param);\n              }}\n              theme=\"dark\"\n              mode=\"inline\"\n              defaultSelectedKeys={[\"dashboard\"]}\n              style={{ height: \"100%\", borderRight: 0 }}\n            >\n              <Menu.Item key=\"dashboard\">\n                <span>\n                  <Icon type=\"laptop\" />\n                  <span>Dashboard</span>\n                </span>\n              </Menu.Item>\n              <Menu.Item key=\"apps\">\n                <span>\n                  <Icon type=\"code\" />\n                  <span>Apps</span>\n                </span>\n              </Menu.Item>\n              <Menu.Item key=\"monitoring\">\n                <span>\n                  <Icon type=\"dashboard\" />\n                  <span>Monitoring</span>\n                </span>\n              </Menu.Item>\n              <Menu.Item key=\"cluster\">\n                <span>\n                  <Icon type=\"cluster\" />\n                  <span>Cluster</span>\n                </span>\n              </Menu.Item>\n              <Menu.Item key=\"settings\">\n                <span>\n                  <Icon type=\"setting\" />\n                  <span>Settings</span>\n                </span>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Content>\n            <div\n              ref={self.mainContainer}\n              style={{\n                paddingTop: 12,\n                paddingBottom: 36,\n                height: \"100%\",\n                overflowY: \"scroll\"\n              }}\n              id=\"main-content-layout\"\n            >\n              <Switch>\n                <Route path=\"/dashboard/\" component={Dashboard} />\n                <Route\n                  path=\"/apps/details/:appName\"\n                  render={props => (\n                    <AppDetails {...props} mainContainer={self.mainContainer} />\n                  )}\n                />\n                <Route\n                  path=\"/apps/oneclick/:appName\"\n                  component={OneClickAppConfigPage}\n                />\n                <Route path=\"/apps/oneclick\" component={OneClickAppSelector} />\n                <Route path=\"/apps/\" component={Apps} />\n                <Route path=\"/monitoring/\" component={Monitoring} />\n                <Route path=\"/cluster/\" component={Cluster} />\n                <Route path=\"/settings/\" component={Settings} />\n                <Route path=\"/\" component={LoggedInCatchAll} />\n              </Switch>\n            </div>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox, Card } from \"antd\";\nimport ApiComponent from \"./global/ApiComponent\";\nimport Toaster from \"../utils/Toaster\";\nimport ApiManager from \"../api/ApiManager\";\nimport { RouteComponentProps } from \"react-router\";\nconst FormItem = Form.Item;\n\nexport default class Login extends ApiComponent<RouteComponentProps<any>> {\n  onLoginRequested(password: string) {\n    const self = this;\n    this.apiManager\n      .getAuthToken(password)\n      .then(function() {\n        self.props.history.push(\"/\");\n      })\n      .catch(Toaster.createCatcher());\n  }\n\n  render() {\n    const self = this;\n    return (\n      <div>\n        <div\n          style={{\n            position: \"absolute\",\n            left: \"50%\",\n            top: \"50%\",\n            transform: \"translate(-50%,-50%)\"\n          }}\n        >\n          <Card title=\"CaptainDuckDuck\" style={{ width: 300 }}>\n            <WrappedNormalLoginForm\n              onLoginRequested={(password: string) =>\n                self.onLoginRequested(password)\n              }\n            />\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass NormalLoginForm extends React.Component<any, any> {\n  handleSubmit = (e: any) => {\n    const self = this;\n    e.preventDefault();\n    this.props.form.validateFields((err: any, values: any) => {\n      if (!err) {\n        self.props.onLoginRequested(values.password);\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form onSubmit={this.handleSubmit} className=\"login-form\">\n        <FormItem>\n          {getFieldDecorator(\"password\", {\n            rules: [{ required: true, message: \"Please input your Password!\" }]\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n        </FormItem>\n        <FormItem>\n          <Button\n            style={{ float: \"right\" }}\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-form-button\"\n          >\n            Login\n          </Button>\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\nconst WrappedNormalLoginForm = Form.create()(NormalLoginForm);\n","import React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Route, Switch, HashRouter } from \"react-router-dom\";\nimport thunk from \"redux-thunk\";\n\nimport \"./App.css\";\n\nimport reducers from \"./reducers\";\n\nimport PageRoot from \"./containers/PageRoot\";\nimport Login from \"./containers/Login\";\nimport CrashReporter from \"./utils/CrashReporter\";\n\nCrashReporter.getInstance().init();\n\nconst createStoreWithMiddleware = applyMiddleware(thunk)(createStore);\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"full-screen-bg\">\n        <Provider store={createStoreWithMiddleware(reducers)}>\n          <HashRouter>\n            <Switch>\n              <Route path=\"/login/\" component={Login} />\n              <Route path=\"/\" component={PageRoot} />\n            </Switch>\n          </HashRouter>\n        </Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}